[
  {
    "bookSourceComment": "─────当前版本Pro V18─────\n\n点击登录即可查看:\n\n0、书源制作思路\n\n1、版本更新日志\n\n2、书源用法展示\n\n3、相关问题解释\n\n───────搜索格式────────\n\n完全格式：书名#作者$网站\n简化格式1：书名$网站\n简化格式2：书名#作者\n简化格式3：书名\n\n说明：搜索“斗破苍穹#天蚕土豆$www.qidian.com”将在“www.qidian.com”中搜索名为斗破苍穹、作者为天蚕土豆的书籍\n\n切换：关键字前加“<数字>”可将域名设置为下面列表中的其它域名：\n[\"https://www.google.com/search?q=\",\"https://images.hk.53yu.com/search?safe=off&hl=zh-CN&q=\"\n,\"https://www.sanzhima.com/search?q=\"\n,\"https://readmorejoy.com/search/?who=gg&start=0&key=\"]\n其中“<0>”将域名设置为谷歌原网， 搜索格式如“<0>斗破苍穹#天蚕土豆$www.qidian.com”(注：本源默认使用谷歌镜像，切换到谷歌原网时需挂VPN才能用)。\n\n──────前缀设置全体───────\n\n转化：关键字前加“@”，`设置本次搜到的所有书籍`优先考虑将链接转化为电脑版，争取获得目录不分页的电脑版链接\n\n单页：关键字前加“!”，`设置本次搜到的所有书籍`搜到什么点开就是什么，不做目录识别也不做章节识别，自动为当前网页构造目录，当前网页的内容储存在“预览内容”中\n\n跳转：关键字前加“^”，`设置本次搜到的所有书籍`允许目录自动跳转，目录标题中写着点击跳转时可如此做。\n\n逆向：关键字前加“-”，`设置本次搜到的所有书籍`目录章节逆向排序，配合指定网站的搜索方式针对小说全是逆向排序的网站比较方便。\n\n图文：关键字前加“|”，`设置本次搜到的所有书籍`正文只查询文字，不查询图片。或关键字前加“_”，`设置本次搜到的所有书籍`正文只查询图片，不查询文字。这两个前缀只能设置其一，都不设置时默认图文都查询。\n\n──────简介设置单本───────\n\n说明：将特定字段插入简介保存后，点刷新可实现目录跳转、目录逆向排序、目录链接指定等多种功能。\n\n局限：修改简介再点刷新只会控制当前书籍执行指定功能，想控制所有书籍执行指定功能，请采用上面`全部设置`的方式在关键字前加相应前缀并重新搜索\n\n位置：插入到简介最前端\n\n格式：在“{}”中包含以下文字就会触发相应功能\n─────⤵\n转：尽量考虑将链接转化为电脑版，争取获得目录不分页的电脑版链接\n\n直：不做目录识别，直接将详情页作为目录页，或以“直[目录链接]”格式直接指定目录链接，目录识别错误时可这种做。\n\n跳：允许目录自动跳转，目录标题说点击跳转时可如此做。\n\n全：直接显示“预览正文”和查询到的所有章节，跳过章节筛选环节，单页文章和部分筛选后章节不全的小说网站可这样做。\n\n逆：设置目录章节逆向排序。\n\n图：设置成看图模式(默认为图文模式)，只显示图片，不显示文字。\n\n字：设置成纯字模式(默认为图文模式)，只显示文本，不显示图片。\n─────⤴\n\n示例：{直[http://m.biquku.la/0/425/]全字}\n\n效果：①直接将“http://m.biquku.la/0/425/”作为小说目录链接②显示元素查询得到的全部章节列表，不做章节筛选③以纯文字模式查找正文内容，避免图片干扰。",
    "bookSourceGroup": "📑谷歌搜书",
    "bookSourceName": "谷歌搜书",
    "bookSourceType": 0,
    "bookSourceUrl": "谷歌搜书",
    "bookUrlPattern": "",
    "customOrder": -38220,
    "enabled": true,
    "enabledExplore": false,
    "exploreUrl": "",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36\"}",
    "lastUpdateTime": 1611990409139,
    "loginUrl": "https://gitee.com/no-mystery/book-source",
    "ruleBookInfo": {
      "author": "@get:{x}",
      "canReName": "true",
      "coverUrl": "[property$=image]@content||img@data-src||img[alt]@src||img@src\n##([^\\n]+)##$1###\n@js:/^data:image\\/[^;]+;base64,/.test(result)?java.base64Encode(result):result",
      "init": "",
      "intro": "@get:{g}##^##　　",
      "kind": "@js:java.get(\"v\")",
      "lastChapter": "@get:{z}",
      "name": "@js:r=org.jsoup.Jsoup.parse(result);\nr.select(\"script,noscript,style,head>:not(meta),footer,[class~=^foot],[id~=^foot],a:has(>:last-child:matchesOwn(^分类$))\").remove();\n\nn=String(book.name);\n\nm=String(r).replace(/(&nbsp;)+/g,\" \");\n\ny=r.select(\"[property~=title$|name$]\");\nif(y.size()){c=y.eachAttr(\"content\")\n}else c=r.select(\"h1,strong\").eachText();\n\nfor(x=0;x<c.size();x++)if(\n(y=\"\"+c.get(x))&&n.indexOf(y)+1\n){n=String(y);break;}\n\nif((x=r.select(\"[property$=author]\")\n).size()){\nx=String(x.attr(\"content\")).replace(/^作\\s*[者家][\\s:：]*|(?!^)[/／｜|，,\\s][^⚙️]*$/,\"\")\n}else{\nx=m.match(/>([^>]+)\\s+著<|[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】>《》]作\\s*者(?![^>]+->)(?:[:：\\s]|<[^i\\/][^>]*>|<\\/[^>]+>)+([^\\s<\">,，/／｜|]+)/);\nx=x?x[1]?x[1]:x[2]:(x=r.select(\"#author,.author\"),x.size()?String(x.first().text()).replace(/(?!^)[|,/\\s][^⚙️]*$/,\"\"):\"\")}\n\nif(n.indexOf(x)>0&&java.get(\"key\").indexOf(n)<0)n=n.split(x)[0];\njava.put(\"x\",x);\n\ny=r.select(\"meta[property~=(category|status)$]\");\nc=y.size()?String(y.eachAttr(\"content\"))\n.slice(1,-1).replace(/(?!^)\\s*[，,./／｜|]\\s*/,\",\"):(y=m.match(/(?:[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】》]|<[^a/][^>]*>|<\\/[^>]+>)[分类大]\\s*[类型别](?:[:：\\s]|<[^>]+>)+([^\\s<.\"/／｜|>]+)/))&&y[1];\nif(c)java.put(\"v\",c);\n\ny=r.select(\"meta[property~=latest_chapter_name$]\");\n\nc=y.size()?y.attr(\"content\"):(y=m.match(/>\\s*[更最]\\s*新(?:\\s*章\\s*节)?(?:[:：\\s]|<[^>]+>)+(?!\\s*(-|&gt;)\\s*<|[:：\\s0-9T年月日时分秒*-]{5,}<|[^:：]+[:：]\\s*<|更新(?:时间)?[:：])([^<\"/／｜|>]+)/))&&y[1];\nif(c)java.put(\"z\",c);\n\ny=r.select(\"meta[property$=description]\");\nc=y.size()?y.get(y.size()-1).attr(\"content\"):(r.select(':matchesOwn([\\\\u4e00-\\\\u9fa5]{2,})>:not(br),:not(body,br,:matchesOwn([\\\\s\\\\S]{50}),:has(body,:matchesOwn([\\\\s\\\\S]{50})),:has(>:matchesOwn([\\\\s\\\\S]{50}))>:matchesOwn(\\\\S))').remove(),r.select(\":matchesOwn(\\\\S)\").text());\n\njava.put(\"g\",String(\"\"+c||book.intro).replace(/[\\snbsp;]*(?:&nbsp;|\\s){2,}|\\s*([？！。]+[”」』\\]\\}\\)）｝】〗〕〉]?)\\s*/g,\"$1　　\").replace(/(?=　　)/g,\"\\n\"));\n\njava.setContent(m,baseUrl);n",
      "tocUrl": "@js:\nzl=java.getStringList(\"[property$=latest_chapter_url]:not([content~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}])@content||:matches(^最新章节)>a:only-child:not([href~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}])@href||a:matches(^[【《]?(\"+book.name+\")?[\\\\s》】（\\\\u0028]*(第[\\\\s0〇零]*[一1]\\\\s*[\\\\u4e00-\\\\u9fa5]|([\\\\u4e00-\\\\u9fa5]{2}阅读)?[0〇零]*[一1][\\\\s.、:：_-]?([【（）\\\\u0028\\\\u0029\\\\u4e00-\\\\u9fa5]|$))):not([href~=^$|#|javascript])@href||a:matches(^(免费试读|(在线|开始|立即|全文|从头)+阅读)$):not([href~=^$|#|javascript])@href\");\nif(zl.size()==1&&(ck=String(zl.get(0)).match(/^(?:.+\\/\\/[^/]+)?([/?].+[&/_-])[^&/_-]+$/)))java.put(\"ck\",ck[1]);\n\nif(java.get(\"直\")==1||/^\\{[^{}]*直(?=[^{}]*\\})/\n.test(book.customIntro)){\nre=(re=String(book.customIntro).match(/^\\{[^{}]*直\\[([^\\[\\]]+)\\]/))?re[1]:baseUrl\n}else{r=org.jsoup.Jsoup.parse(result);\n\nscript=r.select(\":matchesOwn(^$)>a[href^=javascript:]:matches([正顺順]序|全文|章[節节]|目[錄录]):not(:matches(最新))\");re=false;\n\nif(!script.size()){\nba=baseUrl.match(/(https?:\\/\\/[^\\/?]+)[?\\/]?(.+?)?(?:\\/)?$/);b=ba[1];\n\n(y=r.select(\":matchesOwn(^$)>a[href~=(?i)catalog|contents|chapters|mulu|(^|[^a-z])ml|(^|chapter[/_-]?)(more|list|all)]:not([href~=hot|sort|top])\")).size()||(y=r.select(m=\":matchesOwn(^$)>a[href~=^[^#:]+$|^\"+b+\"]:not([href~=(?i)^//|chapter|\"+(ba[2]?ba[2].replace(/([?+$.\"'|*{\\[()\\]}])/g,\"$1\"):\"=\")+\"(/\\d+|\\\\.[^.]+)*$|(book|[^a-z])(info|case)[^a-z]|(^/?|//.+/)[^/]*(cid|hot|sort|top|buy|coins|nutrition|review|ticket|update|author|xiazai|down|app)|/index/|/d/],:matches((?i)^$|[0-9零〇一二三四五六七八九十百千万、，：；？！。…‘’“”（）()]|[票榜:：.]|推荐|排行|等级|说明|收藏|书评|简介|分[类卷]|简介|作者|手机|软件|应用|安装|客户|移动|pc|电脑|安卓|苹果|下载|最新|ap[kp]|ipa|plx|deb|exe|zip|rar|txt|epub))\"));\n\nif(y.size()){\nys=y.select(\"a[href~=(?i)catalog|contents|list|chapter|mulu|(^|[^a-z])ml|more|read|all]:matches([正顺順]序|全文|章[節节]|目[錄录]):not(:matches(阅读)),a[href~=(?i)catalog|contents|chapter|(^|[^a-z])ml|mulu|read]:matches(更多|列表),a[href~=(?i)catalog|contents|list|chapter|mulu|(^|[^a-z])ml|more|all]:matches(^$),a:matches(^([↑\\\\[]?[正顺順]序[\\\\]↑]?|全文(免[費费])?[阅閱][讀读]|[><.-]*(点击|查看|展[开開]|进入|返?回到?)*([全正]文|(更多|完整|全部|所有)?(章[節节]|(作品)?目[錄录])+)+(列表)?(\\\\s*(查看|展开)?更多|[><.-]+)?)$)\");zt=false;\n\nif(!ys.size()){\nba=baseUrl.match(/(?:[^\\/_-][\\/_-]([^\\/._-]+))?[\\/_-]([^\\/._-]+)(?:\\/|\\/index[^\\/]*|\\.[^\\/.]+)?$/);\n\nif(xi=(id=ba[2]).match(/\\?[^=]+=([^&]+)/)||id.match(/^[^\\d%]*(\\d{2,}|[1-9])$/))id=xi[1];\nif(ba[1])if(xi=ba[1].match(/^[^\\d%]*(\\d{2,})$/))id=/^\\d$/.test(id)||!xi[1].indexOf(id)?xi[1]:\"(\"+id+\"|\"+xi[1]+\")\";\n\nys=y.select(\"[href~=(?i)^((.*//[^/]+/)?[^=.]*[^\\\\d=.])?\"+id+\"([?_-][a-z=_-]*0|\\\\.[^.]+|[/?]([^\\\\d]*|[^/\\\\d]*/?|(catalog(ue)?|contents|([_-]?list|[_-]?chapters?)+|mulu|ml|more|all)([=_-][a-z]*)?\\\\d+[^\\\\d]*)?)?(&.+)?$]:not(:contains(\"+(bs=String(book.name)[0])+\"))\");\n\nif(!ys.size()){zt=true;\nys=y.select(\"[href~=(?i)^((.*//[^/]+/)?[^=.]*[^\\\\d=.])?(\\\\d+/\"+id+\"[_-]\\\\d+[^\\\\d]*|\"+id+\"[_-][a-z_-]*1[^\\\\d]*)$]:not(:matches(阅读|\"+bs+\"))\")}}\n\nif(ys.size()){\nif((re=ys.select(\"[href~=(/|^)[^.]+$]\")).size())ys=re;\nre=ys.first().attr(\"href\");\n\nfor(x=1;x<ys.size();x++)if((xs=ys.get(x).attr(\"href\")).length()>re.length())re=xs;\nif(zt||/(^|[^/])\\/[^/]+[/?](catalog(ue)?|contents|([_-]?list|[_-]?chapters?)+|mulu|ml|more|all)([=_-][a-z]*)?([2-9]\\d*|1\\d+)[^\\d]*$/i.test(re))re=String(re).replace(/\\d+(?=[^\\d]*$)/,\"☯1\")}}}\n\nre=String(!re?baseUrl:/^https?:/.test(re)?re:/^\\/\\//.test(re)?b.split(\"//\")[0]+re:/^\\//.test(re)?b+re:baseUrl+re)}\n\njava.put(\"ba\",re.replace(/(?:[☯?&/_-][^\\d]*[01])+[^\\d]*$/,\"\"));\n\nif(java.get(\"跳\")==1||/^\\{[^{}]*跳(?=[^{}]*\\})/.test(book.customIntro))re=re.concat(',{\"webView\":true}');\n\nre==baseUrl?\"\":re.replace(\"☯\",\"\")",
      "wordCount": "{{baseUrl}}##//([^/]+)##$1##"
    },
    "ruleContent": {
      "content": "@js:r=org.jsoup.Jsoup.parse(result);\n\nif(java.get(\"图\")==1||/^\\{[^{}]*图(?=[^{}]*\\})/\n.test(book.customIntro)){\n\nfor(c=2;c;c--){\n\nif(y=(m=r.select(\"img:not([src~=(?i)^$|^javascript:|\\\\.gif|[^a-z](css|icon|load(ing|ed)?)[^a-z]])\")).size()?(y=m.select(\":not([src~=(?i)\\\\.png])\")).size()?y:m.select(\"[src~=(?i)\\\\.png]\"):\"\"){\"🌕\"+y;break;}\n\nr=org.jsoup.Jsoup.parse(java.ajax(baseUrl+',{\"webView\":true}'))}\n\n}else{try{for(c=2;c;c--){\nr.select(java.get(\"字\")==1||/^\\{[^{}]*字(?=[^{}]*\\})/.test(book.customIntro)\n?'a>*,script,noscript,style,header,footer,[class~=^foot|^head],[id~=^foot|^head],:not(:has(p:matchesOwn([\\\\s\\\\S]{200}),p:first-of-type+p):contains(。)) p,:matchesOwn([\\\\s\\\\S]{50})>:not(br,a),:not(br,p,a,:matches([\\\\s\\\\S]{200}),:has(p,br,div:matchesOwn(，|。)+div:matchesOwn(，|。)),:has(p,br,div:matchesOwn(，|。)+div:matchesOwn(，|。)) :matchesOwn(\\\\S))'\n:'a:not(:matches(^$)>img:only-child)>*,script,noscript,style,header,footer,[class~=^foot|^head],[id~=^foot|^head],img[src~=(?i)^$|^javascript:|[^a-z](css|icon|load(ing|ed)?)[^a-z]|/\\\\d+s\\\\.jpg],:not(:has(p:matchesOwn([\\\\s\\\\S]{200}),p:first-of-type+p):contains(。)) p,:matchesOwn([\\\\s\\\\S]{50})>:not(img,br,a,:has(img)),:not(img,br,p,a,:matches([\\\\s\\\\S]{200}),:has(p,br,img,div:matchesOwn(，|。)+div:matchesOwn(，|。)),:has(p,br,img,div:matchesOwn(，|。)+div:matchesOwn(，|。)) :matchesOwn(\\\\S))').remove();\n\nd=[\"div:matchesOwn(\\\\S):has(br)\"\n,\"p:matchesOwn(\\\\S):not(:has(br))\"\n,\"p:matchesOwn(\\\\S):has(br)\"\n,\"div:matchesOwn(\\\\S):not(:has(br))\"\n,\"body:not(:has(:matches([\\\\s\\\\S]{50}))) img,:matches([\\\\s\\\\S]{50}):has(>:matchesOwn(\\\\S)),body:not(:has(img)) :matchesOwn(\\\\S)\"];\n\nfor(i=0;i<5&&(y=r.select(d[i])).text().length()<300;i++);if(i<5||c-2)break;\nr=org.jsoup.Jsoup.parse(java.ajax(baseUrl+',{\"webView\":true}'))}\n\nif((i==0||i==2)&&y.size()==2)y=y.first().text().length()>y.get(1).text().length()?y.first():y.get(1);\n\nr=String(y).replace(/<([a-z]+)[^>]*\"-\\d+\"[^>]*>[^<]+<\\/\\1>|[^<>]*<a[^<]+<\\/a>[^<]*|&lt[; ]?([a-z]+)(?:[^<>&\"]|\"[^\"]+\")*&gt[; ]?(?:[^<>&]|&nbsp;)*&lt[; ]?\\/\\2&gt[; ]?|&lt[; ]?[a-z]+(?:[^<>&\"]|\"[^\"]+\")*&gt[; ]?|[☯📑⚙️🌗🌕🌓︴]/g,\"\").replace(/((?:[〖【『「（《〈〔［\\[(][^〖【『「（《〈〔［\\[()］〕〉》）」』】〗\\]]*[)］〕〉》）」』】〗\\]]\\s*)*(?:(?:第?(?:&nbsp;|\\s)*[一二三四五六七八九十百千万〇零0-9]+(?:&nbsp;|\\s)*[章节回話话：:.．,，、]*(?:&nbsp;|\\s)*)+{{(n=(t=title.replace(/[*$|?+\\\\\\^\\[\\](){}\\s/]/g,\"[\\\\S\\\\s]?\")).match(/\\S+$/)[0].replace(/^(正文[^\\u4e00-\\u9fa5A-Za-z]*|第?[一二三四五六七八九十百千万〇零0-9]+[章节回話话\\s：:.．,，、]*)+/,\"\"),/\\S/.test(n)?n+\"|\":\"\")+t+\"|\"+book.name}})(?:\\s*[〖【『「（《〈〔［\\[(][^〖【『「（《〈〔［\\[()］〕〉》）」』】〗\\]]*[)］〕〉》）」』】〗\\]])*)/g,\"🌗$1🌓\").replace(/[\\snbsp;]*(&nbsp;|\\s){2,}/g,\"　　\");\n\n(/^　　/.test(r)?r.replace(/>(?!　　|\\s*n?b?s?p?;)\\s*(?=[^\\s<>])/g,\">︴\"):r)+\"📑\"}catch(e){\"🌕\"}}",
      "imageStyle": "FULL",
      "nextContentUrl": "a:matches(第二[頁页]|下[一\\s]*[頁页篇章回节節话話]):not([href~=^javascript:|^#])@href\n@js:result.size()&&(/^[^/]+$/.test(result)||String(result).indexOf(String(chapter.url).replace(/(?:[_-][01])?\\.[a-z]+$|https?:\\/\\/[^/]+\\/|[^&=]+=[01]&/gi,\"\"))+1)?result:null",
      "replaceRegex": "@js:/🌕/.test(result)?result.replace(/🌕/g,\"\"):result\n.replace(/—/g,\"─\")\n.replace(/[·۰•・]/g,\"・\")\n.replace(/\\s*(?:︴[^\\n　]+\\s+)*📑\\s*|^\\s*(︴[^\\n　]+\\s+)*|\\s*(?:　　|\\n)(?:[\\s&#a-zA-Z0-9]*;)?[\\s　?]*/g,\"☯\")\n.replace(/(?:︴[^☯]*☯)+(?=︴)|☯(?:温馨|[^a-zA-Z0-9\\u4e00-\\u9fa5☯]+)提示.?[:：][^☯]+|☯[^☯]+字体不会安装.?请百度[^☯]+|☯.{0,2}正版订阅在阅文旗下的起点和QQ书城，可以第一时间看到最新章节.{0,2}(?=☯)|︴\\s*第?[〖【『「（《〈〔［｛\\[{(][^☯]+(?=☯)|☯第\\s*[（(][^（()）]+[)）][頁页](?=☯)|[^☯]*(?:关注|[微vVＶｖ][^\\u4e00-\\u9fa5A-Za-z0-9]*[信xXｘＸ]|公[^\\u4e00-\\u9fa5]*众[^\\u4e00-\\u9fa5]*号){2,}[^☯]*|(?:&#?[a-z0-9]*;?)+(?=;|☯);*|reads；/g,\"\")\n.replace(/\\s+/g,\" \")\n.replace(/☯[ ☯]*/g,\"\\n\")\n.replace(/(\\n[〖【『「（《〈〔［｛\\[{(]?)([pPＰｐ][SsｓＳ]+(?=[ ：:;；，,、。.─\\d\\u4e00-\\u9fa5])[^\\n]+)/g,\"$1🌕$2\")\n.replace(/(<img )[^>]*(src=\"[^\"]+\")[^>]*(>)|((?: ?[＋+－-]?[0-9０-９]+(?:[．.／/][0-9０-９]+)?[％%]?[a-zA-Z]*)+ ?|[ _＿－-]?[a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９]+)/g,\"$1$2$3☯$4☯\")\n.replace(/☯[・。](?=☯)/g,\"☯.\")\n.replace(/☯☯|(?:\\n[^āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌕🌓︴\\n]+|([。？！…”』」】〗])[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌓☯︴\\n]+[\\u4e00-\\u9fa5]+)?[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌓☯︴\\n]+(?=\\n)|[^☯!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛｝］〕〉）＞’”》」』】〗]*☯([a-zA-ZＡ-Ｚａ-ｚ]*[āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ][a-zA-ZＡ-Ｚａ-ｚ]*)☯[^☯!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛｝］〕〉）＞’”》」』】〗]*/g,\"$1$2\")\n.replace(/[^!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗︴🌕]*(?:☯[^.．!(),\\n\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗]+|([^☯!(),\\na-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗])(?!\\1)|☯(?=[^☯!(),\\na-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗][!(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗])|[〖【『「（《〈〔［｛\\[{(][^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[)｝］〕〉》）」』】〗\\]}]){4,}|[〖【『「（《〈〔［｛\\[{(][^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[)｝］〕〉》）」』】〗\\]}]/g,\"📑\")\n.replace(/(?:([\\n。？！])[^\\n。？！]{1,10})?[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*(?:☯[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]☯|📑|🌕)[^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[｝］〕〉》）」』】〗\\]})](?:[^。]{0,5}(?:[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*(?:☯[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]☯|📑)[^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[｝］〕〉》）」』】〗\\]})]|[^📑!,()\\s\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+))*(?:(?:[^\\n]{1,10}|(?:[\\u4e00-\\u9fa5]{0,5}[，、])*[\\u4e00-\\u9fa5]+[！。]?)(?=\\n))?/g,\"$1\")\n.replace(/([^🌗🌕🌓📑︴*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]*(?:(?:[^🌗🌕🌓📑︴*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+[*(), \\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]{1,3})*[^*︴📑☯🌗🌕🌓\\s&;(),āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜa-zA-ZＡ-Ｚａ-ｚ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─‘’“”【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}%%・/／＝=_＿.．＋+－-]+|☯[^☯\\n]+☯.☯[^☯\\n]+☯|本[文书](?:首发|来自)|(?:章节不完整.?|完整章节)?请.{2,6}(?:搜索|百度|引擎|关键[词字])+|(?:[阅閱][讀读]|访问|訪問|[網网地][站址]|链接|鏈接|[\\u4e00-\\u9fa50-9a-zA-Z]{0,4}(?:文学|中文|[網网]))+[:：]|[\\u4e00-\\u9fa50-9a-zA-Z]{0,6}(?:[網网地][站址]|链接|鏈接)为|.{2,4}文[学學][網网]|[请請].{2,4}收藏(?:.{0,2}推[荐薦])?|一秒[記记]住|，?請?訪問|(?:[更最][快新]|[快高]速|热门|(?:[阅閱][讀读])?完整|本|(?:官[網网]|本站).{0,2})(?:章[節节]|小说|更新|[網网][址站]|快速)|更新(?:速度)?[最更]?快|(?:(?:无错)?小说|正版|免费|全[文本]|在线|访问|訪問|txt|TXT|继续|各种|推[荐薦]|收藏|分享|交流|你?喜欢的)+(?:全文|免费|在线|[阅閱]?[讀读]|下载|章[節节]|小说|好书)|章[節节](?:目录|列表)|小说[網网](?:更新)?|手打全文|[纯全](?:手打|文字)|手机看书|手机版|笔趣阁|(?:本站|[網网]站|站内|看)?无(?:任何)?(?:广告|弹窗|防盗)(?:章节)?|不弹窗|(?:(?:請|请|或者?)?(?:訪問|访问|[電电手][腦脑机機]|[網网][址站]|用[户戶]|浏览|瀏覽|閱讀|阅读|看小说|看漫画)){2,}|看小说|看漫画|最佳选择|阅读体验|(?:推[荐薦]|收藏|分享)(?:本站|我们)|小说..版|文章质量更好|谢谢各位(?:读者|书友)支持|水印广告测试|本章未完|请翻页|点击下一页|领.{0,2}红包|关注[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]+[)｝］〕〉》）」』】〗\\]}])(?:[* (),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]{0,3}[^🌗🌓📑*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+)*|🌗[^\\n]+🌓)/g,\"\\n⚙️$1⚙️\\n\")\n.replace(/(🌕)\\s*⚙️|⚙️(<img[^>]+>)⚙️|(⚙️\\n)|([「『【〖《，、；\\n])[\\n。、…：；？！」』】〗》’!]+(?!⚙️)|([：？！。…─])(?:[^⚙️☯a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n…─’”)｝］〕〉》）」』】〗\\]}]+(?=\\n)|[^⚙️☯a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n…─“‘’”〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]+)|🌗|🌓|☯/g,\"$1$2$3$4$5\")\n.replace(/([)）？！?!…」』”\\s。>])[^\\n（(🌕)）”』」’。]{0,5}(?:(?:\\n⚙️.+⚙️\\n|[^（()）\\n”』」。]{0,5}📑)[^（()）\\n。]{0,5}(?:\\n⚙️.+⚙️(?:\\n(?=\\n⚙️|[^（()）\\n]{1,5}\\n))?|[^（()）\\n。]{0,5}📑)+(?:[^（()）\\n]{1,5}(?=\\n))?|(?:(?:(?:\\n⚙️.+⚙️\\n|[^（()）\\n。]{0,5}📑)[^（()）\\n]{0,5}){2,}|[^（(🌕)）”』」’\\n。]{0,5}(?:(?:免费|热门|官网|正版|在线|同步|下载|文学|中文|章节|[本网][站址]|站内|小说|更新|无错|[本全][文本章]|首发|广告|弹窗|防盗|访问|訪問|txt|TXT|读者|书友|百度)[^（()）\\n]{0,5})*(?:📑|\\n⚙️[^\\n]+⚙️\\n)[^（()）\\n]{0,5}(?:(?:免费|热门|官网|正版|在线|下载|同步|文学|中文|章节|[本网][站址]|站内|小说|更新|无错|[本全][文本章]|首发|广告|弹窗|防盗|访问|訪問|txt|TXT|读者|书友|百度)[^（()）\\n]{0,5})*|[^（(🌕)）\\n”』」’。]{0,3}\\n⚙️.+⚙️\\n[^（()）\\n。]{0,3})(?:[\\u4e00-\\u9fa5]+[！。]?|[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n]+)?(?=\\n))|\\n⚙️[^\\u4e00-\\u9fa5]+⚙️\\n|📑|\\s*︴\\s*|\\n?⚙️\\n?|\\n[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n]{2,}\\n[^🌕a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n“《‘【〖『「]*/g,\"$1\")\n.replace(/(?:(?:\\n🌕[^\\n]*)+(?:\\n+[^\\n]+){0,4}|\\n(?:[(（{｛][^(（<{｛｝}>）)]*(?:(?:[(（{｛][^(（<{｛｝}>）)]*[）)｝}])[^(（<{｛｝}>）)]*)*[）)｝}]?\\s*)+|[^\\n]*起点(?:原创|中文)[^\\n]*|[〖【『「（《〈〔［｛\\[{(]?未完待续[^\\n]*)[^\\u4e00-\\u9fa5<>]*$|^\\s*(?:(?:[^\\n]+\\n+){0,4}(?:🌕[^\\n]*\\n?)+|(?:[(（{｛][^(（<{｛｝}>）)]*(?:(?:[(（{｛][^(（<{｛｝}>）)]*[）)｝}])[^(（<{｛｝}>）)]*)*[）)｝}]?\\s*)+|，[^\\n]+)\\n|(?:^|\\n)[^a-z0-9A-Z\\u4e00-\\u9fa5]*(?=\\n)|🌕/g,\"\")",
      "sourceRegex": "",
      "webJs": ""
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "@get:{au}",
      "bookList": ".rc:has(h3)",
      "bookUrl": "a:has(cite)@href\n@js:if((java.get(\"转\")==1||/^\\{[^{}]*转(?=[^{}]*\\})/\n.test(book.customIntro))&&/\\/\\/(m|wap)\\./.test(result)){z=0;\ntry{z=java.get(ua=(result=String(result)).replace(/\\/\\/[^.]+/,\"//www\"),{}).statusCode()}catch(e){}\nif(z<200||z>299){\ntry{z=java.get(ua=result.replace(/\\/\\/[^.]+\\./,\"//\"),{}).statusCode()}catch(e){}}\nif(z>199&&z<300)ua}else result",
      "coverUrl": "",
      "intro": "@css:div:not(:has(cite,a)) span:not([class])@all||div:has(>.jYOxx) span@all",
      "kind": "@js:String(result).replace(/\\s*(?:&nbsp;)+\\s*/g,\" \").replace(/\\s*<\\/?em>\\s*/g,\"\")\n##(?:[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】》]|<[^a/][^>]*>|</[^>]+>)[分类大]\\s*[类型别](?:[:：\\s]|<[^>]+>)+([^\\s<\"./／｜|>]+)##$1###\n@js:result=result.length?result:(fl=String(java.get(\"fl\")).match(/[［\\[]([^\\s\\d［\\[\\]］]+)/),fl?fl[0]:\"\")",
      "lastChapter": "a cite@text",
      "name": "@js:re=String(result).replace(/\\s*(?:&nbsp;)+\\s*/g,\" \").replace(/\\s*<\\/?em>\\s*/g,\"\");\njava.put(\"fl\",res=String(java.getString(\"h3@text\",false)));\nkey=java.get(\"key\");\nax=java.get(\"aut\");\nr=res.match(/[^《》]+(?=》)/);\n\nr=(r?r[0]:res).replace(/^[「『【〖（(\\[]/,\"\").replace(/(?!^)[^\\u4e00-\\u9fa5a-zA-Z0-9]*(?:笔趣阁|思路客|燃文|小说|漫画|手机)?(?:[.|,_/\\s「『【〖（(\\[\\])）〗】』」。-]|(?:人工|机器|电脑)?校正|精校|完[整结]|加料|番外|未删节|简介|全[文本集]|下载|(?:小说|漫画|大全|正版(?:小说|漫画)?|免费|免费小说|免费漫画|免费全[文本]|在线|最[新快]|全部|手机|电脑)(?:全[文本集部]|大全|免费|在线|阅读|下载|章节|小说|更新|漫画|\\.)|([^a-zA-Z0-9])(?:azw|mobi|epub|txt)(?![a-zA-Z0-9])|(?:最全)?(?:章节|目录|列表){2,}|更新章节最快|无广告|(?::顶点)?无弹窗|无防盗|小说网|手打全文|[纯全](?:手打|文字))[\\S\\s]*/i,\"$1\");\n\nif(ax==\"#\"||re.indexOf(ax)<0){\nax=re.match(/《([^《》]+)》作品集|[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】《》>]作\\s*者(?:[:：\\s“\"'(（]|<[^i\\/][^>]*>|<\\/[^>]+>)+(?![^\\s<(《“（）”》)>\\/\\[\\];?!,、，；？！。…─［］〖〗【】]*\\.{3}<)([^\\s<(《“（\"'）”》)>\\[\\];?!,、，；？！。…─［］〖〗【】/／｜|:：]+?)(?=(?:其[他它]|小说|[更最][快新]|\\.\\s*)?..[:：]|所?写?的《|[\\s<(《“（\"'）”》)>\\[\\];?!,、，；？！。─［］〖〗【】/／｜|])/);\nif(!ax){\nax=re.match(new RegExp(r+\"[^a-z0-9A-Z\\\\u4e00-\\\\u9fa5]*([^\\\\s]+?)\\\\s+著|(?:由|原创)(?:(?:原创|网络)?作[家者])?(?![\\\\u4e00-\\\\u9fa5a-zA-Z0-9_-]*(?:[书网]友|网)所?提供)([\\\\u4e00-\\\\u9fa5a-zA-Z0-9_-]+?)(?:所作|所?(?:(?:精心)?[创著]作|提供|写?的(?:《|\"+r+\")))\"));\nif(!ax)ax=res.match(/[^.|,_/\\s\\[\\]（()）【〖〗】。-]+[（(](?![^\\s]+[\\s、：；？！…─“‘《〖【，。:;?!\"'】〗》’”][^(（）)]+|(?:连载中?|完本|大结局|上|中|下|[\\s.一二三四五六七八九十百千万〇零0-9]+)[）)])([^（()）]+?)(?:(?:\\s+|所)?著|的?新书|[/／｜|][^)）]+)?[)）]/)}\nax=ax?ax[1]||ax[2]:\"\"}\n\nif(!ax.length&&re.indexOf(key)+1&&r.indexOf(key)<0)ax=key;\n\nif(r.indexOf(ax)>0&&key.indexOf(r)<0)r=r.split(ax)[0];\n\nzt=[/小说/.test(key),/有声/.test(key),/(?!^)小说(?!$)/.test(key),/(?!^)有声(?!$)/.test(key)];\nif(!zt[0]&&!zt[1]||zt[2]&&zt[3]){\nrez=\"(?!^)(有声|小说|有声小说)$|^(有声|小说|有声小说)(?!$)\"\n}else if(!zt[1]||!zt[2]&&zt[3]){\nrez=\"(?!^)有声$|^有声(?!$)\"\n}else if(!zt[0]||zt[2]&&!zt[3]){\nrez=\"(?!^)小说$|^小说(?!$)\"\n}else rez=\"☯\";\nif(!/漫画/.test(key)||/(?!^)漫画(?!$)/.test(key))rez+=\"|(?!^)漫画$|^漫画(?!$)\";\n\nix=r.replace(new RegExp(rez),\"\").split(/[：:]/);i=0;\nwhile(i<ix.length){x=ix[i];\nif(x.indexOf(key)>=0||key.indexOf(x)>=0)break;i++}\nif(i==ix.length)i=0;\n\njava.put(\"au\",ax);\njava.put(\"bb\",ix.slice(i,i+2).join(\":\"))",
      "wordCount": "div.St3GK a:last-child@text||div.osl a:eq(0)@text\n##\\s\\d+$|;$"
    },
    "ruleToc": {
      "chapterList": "@css::matchesOwn(^$|[0-9〇一二三四五六七八九十])>a[href~=^[^#:]+$|^h]:matches(\\S):not(:has(img,*>*>*),[href~=(?i)SystemInfo|\\.aspx$|\\.php$|book(info|case)|(^/?|//.+/)[^/]*(hot|sort|top|buy|coins|nutrition|review|ticket|update|author|xiazai|down|app)(?!=)|\\d+_\\d+_\\d+],:matches((?i)最新章节$|^(((点击|软件|应用|安装|客户|移动|手机|电脑|安卓|苹果|下载|阅读|pc|ap[kp]|ipa|plx|deb|exe|zip|rar|txt|epub)[\\s.端版]*){2,}|[A-Za-z0-9\\u4e00-\\u9fa5]?返回.*(简介|书页|目录)[A-Za-z0-9\\u4e00-\\u9fa5]?|[<>-]+|正文|[上下首尾]([一\\s]*[页頁]|[\\s\\d零〇一二三四五六七八九十百]*章)|[↑\\[]?[倒正反逆顺順]序[↓\\]]?|免费试读|(在线|开始|立即|全文|从头)+阅读|[^\\s\\d外内楔前后卷篇章]*(作者|双倍月票|感言|推书|推[a-z0-9A-Z_\\u4e00-\\u9fa5\\-]+书|[求个请投点](月?票|收藏|订阅|推荐)|感谢(读者|书友|大家|各位)[书点]评[^\\s]*活动|没[有空]?更新|没时间更新|请个?假|关于本书|关于更新|打赏名单|起点活动)[^\\s]*)$))\n@js:b=java.get(\"ba\");\n\nif(zt=!(java.get(\"全\")==1||/^\\{[^{}]*全(?=[^{}]*\\})/.test(book.customIntro))){\nll=null;\n$=it=>(qc=ll,ll=result.select(it)).size()>20&&(result=re=ll);\n\nif(!(((ck=java.get(\"ck\"))!=\"\"&&$(\"[href~=\"+ck+\"[^i.]|/vip[_-]?(read|chapter)|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}]:not([href='\"+book.tocUrl+\"'])\"))||$(\"[href~=^[a-z0-9]+(/|\\\\.[^./]+)?$]\"))){\nif(qc&&qc.size()>ll.size())ll=qc;\n\n$=it=>(re=result.select(it)).size()&&(result=re);\n\nif(!($(\"[data-cid]\")||$(\"[href~=(^|[/_-])(chapter|read)+([_-]?id)?/[^/_-]+[/_-][^/_-]+]\")||$(\"[href~=(^|[&?/_-](book|novel|comic)?)(chapter|read)+([_-]?id)?[?/=]]\")||$(\"[href~=[&?/_-]cid[&?/_=-]]\")||$(\"[data-href]\"))){\n\nba=b.match(/(?:[^/_-][/_-]([^/._-]+))?[/_-]([^/._-]+)(?:\\/|\\/index[^/]*|\\.[^/.]+)?$/);\n\nif(xi=(id=ba[2]).match(/\\?[^=]+=([^&]+)/)||id.match(/^[^\\d%]*(\\d{2,}|[1-9])$/)||ba[1]&&ba[1].match(/^[^\\d%]*(\\d{2,})$/))id=xi[1];\n\n$(\"[href~=([^\\\\d]|^)\"+id+\"[/_&-][^\\\\d]*\\\\d+]:not([href~=\"+id+\"[^\\\\d]*$]),[href~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}|([^\\\\d]|^)\"+id+\"[/_&-][^\\\\d]*\"+id+\"(/|\\\\.[^.]+|&.+)?$]\")||$(\"[title]\")||$(\"[href~=/view/\\\\d+\\\\.[a-zA-Z]+$]\")}\nif(re.size()<ll.size())result=ll}}\n\nif(java.get(\"逆\")==1||/^\\{[^{}]*逆(?=[^{}]*\\})/.test(book.customIntro))for(i=0,s=result.size()-1;i<s/2;i++){li=result.get(i);\nresult.set(i,result.get(s-i));\nresult.set(s-i,li)}\n\nzt&&re.size()?result:[\"<a href='\"+b+\"'>预览内容</a>\"].concat(result.toArray())",
      "chapterName": "text@js:result.replace(/(第)\\s+|(\\d)第(?=\\d)|\\s+([章节回話话卷])/,\"$1$2$3\")",
      "chapterUrl": "href##[/\\s]+$",
      "isVip": "",
      "nextTocUrl": "a:matches(下[一\\s]*[页頁]|下[一二三四五六七八九十百千万〇零0-9]{2,}章):not([href~=^#|javascript:])@href",
      "updateTime": ""
    },
    "searchUrl": "{{key=key.trim();aut=\"#\";\n\nif(/<[01]>/.test(key.slice(0,3))){\nl=[\"https://www.google.com/search?q=\",\"https://images.hk.53yu.com/search?safe=off&hl=zh-CN&q=\"];\ny=l[key[1]];\nkey=key.slice(3)\n}else y=\"https://goo.gle.workers.dev/search?q=\";\n\nif(key[0]==\"@\"){\nkey=key.slice(1);\njava.put(\"转\",1)}\nif(key[0]==\"!\"){\nkey=key.slice(1);\njava.put(\"直\",1);\njava.put(\"全\",1)}\nif(key[0]==\"^\"){\nkey=key.slice(1);\njava.put(\"跳\",1)}\nif(key[0]==\"-\"){\nkey=key.slice(1);\njava.put(\"逆\",1)}\nif(key[0]==\"|\"){\nkey=key.slice(1);\njava.put(\"字\",1)}else if(key[0]==\"_\"){\nkey=key.slice(1);\njava.put(\"图\",1)}\nz=key.lastIndexOf(\"#\")+1;\ns=key.lastIndexOf(\"$\");\nif(/\\$[a-zA-Z0-9/._-]+$/.test(key))key=key.slice(0,s).concat(\" site:\",key.slice(s+1));\ns=s+1?s:key.length;\nas=key.slice(z?z:s,s);\nif(!/^\\s*$/.test(as)){\naut=as.match(/[^\\s\"]+/)[0];\nkey=key.slice(0,z-1).concat(\" \",key.slice(z))}\njava.put(\"aut\",aut);\njava.put(\"key\",key.match(/[^\\s\"]+/)[0]);\ny+key}}&start=<0,{{page*10}}>",
    "weight": 0
  },
  {
    "bookSourceComment": "─────当前版本Pro V18─────\n\n点击登录即可查看:\n\n0、书源制作思路\n\n1、版本更新日志\n\n2、书源用法展示\n\n3、相关问题解释\n\n───────搜索格式────────\n\n完全格式：书名#作者$网站\n简化格式1：书名$网站\n简化格式2：书名#作者\n简化格式3：书名\n\n说明：搜索“斗破苍穹#天蚕土豆$www.qidian.com”将在“www.qidian.com”中搜索名为斗破苍穹、作者为天蚕土豆的书籍\n\n\n──────前缀设置全体───────\n\n转化：关键字前加“@”，`设置本次搜到的所有书籍`优先考虑将链接转化为电脑版，争取获得目录不分页的电脑版链接\n\n单页：关键字前加“!”，`设置本次搜到的所有书籍`搜到什么点开就是什么，不做目录识别也不做章节识别，自动为当前网页构造目录，当前网页的内容储存在“预览内容”中\n\n跳转：关键字前加“^”，`设置本次搜到的所有书籍`允许目录自动跳转，目录标题中写着点击跳转时可如此做。\n\n逆向：关键字前加“-”，`设置本次搜到的所有书籍`目录章节逆向排序，配合指定网站的搜索方式针对小说全是逆向排序的网站比较方便。\n\n图文：关键字前加“|”，`设置本次搜到的所有书籍`正文只查询文字，不查询图片。或关键字前加“_”，`设置本次搜到的所有书籍`正文只查询图片，不查询文字。这两个前缀只能设置其一，都不设置时默认图文都查询。\n\n──────简介设置单本───────\n\n说明：将特定字段插入简介保存后，点刷新可实现目录跳转、目录逆向排序、目录链接指定等多种功能。\n\n局限：修改简介再点刷新只会控制当前书籍执行指定功能，想控制所有书籍执行指定功能，请采用上面`全部设置`的方式在关键字前加相应前缀并重新搜索\n\n位置：插入到简介最前端\n\n格式：在“{}”中包含以下文字就会触发相应功能\n─────⤵\n转：尽量考虑将链接转化为电脑版，争取获得目录不分页的电脑版链接\n\n直：不做目录识别，直接将详情页作为目录页，或以“直[目录链接]”格式直接指定目录链接，目录识别错误时可这种做。\n\n跳：允许目录自动跳转，目录标题说点击跳转时可如此做。\n\n全：直接显示“预览正文”和查询到的所有章节，跳过章节筛选环节，单页文章和部分筛选后章节不全的小说网站可这样做。\n\n逆：设置目录章节逆向排序。\n\n图：设置成看图模式(默认为图文模式)，只显示图片，不显示文字。\n\n字：设置成纯字模式(默认为图文模式)，只显示文本，不显示图片。\n─────⤴\n\n示例：{直[http://m.biquku.la/0/425/]全字}\n\n效果：①直接将“http://m.biquku.la/0/425/”作为小说目录链接②显示元素查询得到的全部章节列表，不做章节筛选③以纯文字模式查找正文内容，避免图片干扰。",
    "bookSourceGroup": "📑百度搜书",
    "bookSourceName": "百度搜书",
    "bookSourceType": 0,
    "bookSourceUrl": "百度搜书",
    "bookUrlPattern": "",
    "customOrder": -38219,
    "enabled": true,
    "enabledExplore": false,
    "exploreUrl": "",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36\"}",
    "lastUpdateTime": 1612071817369,
    "loginUrl": "https://gitee.com/no-mystery/book-source",
    "ruleBookInfo": {
      "author": "@get:{x}",
      "canReName": "true",
      "coverUrl": "[property$=image]@content||img@data-src||img[alt]@src||img@src\n##([^\\n]+)##$1###\n@js:/^data:image\\/[^;]+;base64,/.test(result)?java.base64Encode(result):result",
      "init": "",
      "intro": "@get:{g}##^##　　",
      "kind": "@js:java.get(\"v\")",
      "lastChapter": "@get:{z}",
      "name": "@js:zh=false;\nr=org.jsoup.Jsoup.parse(result);\n\nb=(b=r.select('base')).size()?String(b.attr(\"href\")):/:/.test(url=String(java.get('url')))?url:(zh=true,'http://').concat(url.replace(/\\.\\.\\..*/,''));\n\nif(r.select(\"div:has(meta)\").size()&&(zh=true)){\nr.select(\"b[style^=color:black;background-color:#]\").unwrap();\nr.select(\"a[name^=baidusnap]\").remove();\n\nb=b.replace(/%([0-7][0-9a-fA-F])/g,(_,it)=>String.fromCharCode(parseInt(\"0x\"+it))).replace(/:\\d+/,\"\")}\n\nif(zh){\nba=b.match(/^(https?)(:\\/\\/[^\\/]+)/);\ns=r.select('[href*='+ba[2]+']');\n\ns=s.size()?String(s.first().attr(\"href\")).match(/https?(?=:)/)[0]:ba[1];\nif(b[1]!=s)b=b.replace(/^https?/,s)}\n\nif((java.get(\"转\")==1||/^\\{[^{}]*转(?=[^{}]*\\})/\n.test(book.customIntro))&&/\\/\\/(m|wap)\\./.test(b)){z=0;\ntry{z=(zz=java.get(ua=b.replace(/\\/\\/[^.]+/,\"//www\"),{})).statusCode()}catch(e){}\nif(z<200||z>299){\ntry{z=(zz=java.get(ua=b.replace(/\\/\\/[^.]+\\./,\"//\"),{})).statusCode()}catch(e){}}\nif(z>199&&z<300)b=ua,r=org.jsoup.Jsoup.parse(zz.body())}\n\nr.select(\"script,noscript,style,head>:not(meta),footer,[class~=^foot],[id~=^foot],a:has(>:last-child:matchesOwn(^分类$))\").remove();\n\nn=String(book.name);\n\nm=String(r).replace(/(&nbsp;)+/g,\" \");\n\ny=r.select(\"[property~=title$|name$]\");\nif(y.size()){c=y.eachAttr(\"content\")\n}else c=r.select(\"h1,strong\").eachText();\n\nfor(x=0;x<c.size();x++)if(\n(y=\"\"+c.get(x))&&n.indexOf(y)+1\n){n=String(y);break;}\n\nif((x=r.select(\"[property$=author]\")\n).size()){\nx=String(x.attr(\"content\")).replace(/^作\\s*[者家][\\s:：]*|(?!^)[/／｜|，,\\s][^⚙️]*$/,\"\")\n}else{\nx=m.match(/>([^>]+)\\s+著<|[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】>《》]作\\s*者(?![^>]+->)(?:[:：\\s]|<[^i\\/][^>]*>|<\\/[^>]+>)+([^\\s<\">,，/／｜|]+)/);\nx=x?x[1]?x[1]:x[2]:(x=r.select(\"#author,.author\"),x.size()?String(x.first().text()).replace(/(?!^)[|,/\\s][^⚙️]*$/,\"\"):\"\")}\n\nif(n.indexOf(x)>0&&java.get(\"key\").indexOf(n)<0)n=n.split(x)[0];\njava.put(\"x\",x);\n\ny=r.select(\"meta[property~=(category|status)$]\");\nc=y.size()?String(y.eachAttr(\"content\"))\n.slice(1,-1).replace(/(?!^)\\s*[，,./／｜|]\\s*/,\",\"):(y=m.match(/(?:[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】》]|<[^a/][^>]*>|<\\/[^>]+>)[分类大]\\s*[类型别](?:[:：\\s]|<[^>]+>)+([^\\s<.\"/／｜|>]+)/))&&y[1];\nif(c)java.put(\"v\",c);\n\ny=r.select(\"meta[property~=latest_chapter_name$]\");\n\nc=y.size()?y.attr(\"content\"):(y=m.match(/>\\s*[更最]\\s*新(?:\\s*章\\s*节)?(?:[:：\\s]|<[^>]+>)+(?!\\s*(-|&gt;)\\s*<|[:：\\s0-9T年月日时分秒*-]{5,}<|[^:：]+[:：]\\s*<|更新(?:时间)?[:：])([^<\"/／｜|>]+)/))&&y[1];\nif(c)java.put(\"z\",c);\n\ny=r.select(\"meta[property$=description]\");\nc=y.size()?y.get(y.size()-1).attr(\"content\"):(r.select(':matchesOwn([\\\\u4e00-\\\\u9fa5]{2,})>:not(br),:not(body,br,:matchesOwn([\\\\s\\\\S]{50}),:has(body,:matchesOwn([\\\\s\\\\S]{50})),:has(>:matchesOwn([\\\\s\\\\S]{50}))>:matchesOwn(\\\\S))').remove(),r.select(\":matchesOwn(\\\\S)\").text());\n\njava.put(\"g\",String(\"\"+c||book.intro).replace(/[\\snbsp;]*(?:&nbsp;|\\s){2,}|\\s*([？！。]+[”」』\\]\\}\\)）｝】〗〕〉]?)\\s*/g,\"$1　　\").replace(/(?=　　)/g,\"\\n\"));\n\njava.setContent(m,b);n",
      "tocUrl": "@js:\nzl=java.getStringList(\"[property$=latest_chapter_url]:not([content~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}])@content||:matches(^最新章节)>a:only-child:not([href~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}])@href||a:matches(^[【《]?(\"+book.name+\")?[\\\\s》】（\\\\u0028]*(第[\\\\s0〇零]*[一1]\\\\s*[\\\\u4e00-\\\\u9fa5]|([\\\\u4e00-\\\\u9fa5]{2}阅读)?[0〇零]*[一1][\\\\s.、:：_-]?([【（）\\\\u0028\\\\u0029\\\\u4e00-\\\\u9fa5]|$))):not([href~=^$|#|javascript])@href||a:matches(^(免费试读|(在线|开始|立即|全文|从头)+阅读)$):not([href~=^$|#|javascript])@href\");\nif(zl.size()==1&&(ck=String(zl.get(0)).match(/^(?:.+\\/\\/[^/]+)?([/?].+[&/_-])[^&/_-]+$/)))java.put(\"ck\",ck[1]);\n\nif(java.get(\"直\")==1||/^\\{[^{}]*直(?=[^{}]*\\})/\n.test(book.customIntro)){\nre=(re=String(book.customIntro).match(/^\\{[^{}]*直\\[([^\\[\\]]+)\\]/))?re[1]:baseUrl\n}else{r=org.jsoup.Jsoup.parse(result);\n\nscript=r.select(\":matchesOwn(^$)>a[href^=javascript:]:matches([正顺順]序|全文|章[節节]|目[錄录]):not(:matches(最新))\");re=false;\n\nif(!script.size()){\nba=baseUrl.match(/(https?:\\/\\/[^\\/?]+)[?\\/]?(.+?)?(?:\\/)?$/);b=ba[1];\n\n(y=r.select(\":matchesOwn(^$)>a[href~=(?i)catalog|contents|chapters|mulu|(^|[^a-z])ml|(^|chapter[/_-]?)(more|list|all)]:not([href~=hot|sort|top])\")).size()||(y=r.select(m=\":matchesOwn(^$)>a[href~=^[^#:]+$|^\"+b+\"]:not([href~=(?i)^//|chapter|\"+(ba[2]?ba[2].replace(/([?+$.\"'|*{\\[()\\]}])/g,\"$1\"):\"=\")+\"(/\\d+|\\\\.[^.]+)*$|(book|[^a-z])(info|case)[^a-z]|(^/?|//.+/)[^/]*(cid|hot|sort|top|buy|coins|nutrition|review|ticket|update|author|xiazai|down|app)|/index/|/d/],:matches((?i)^$|[0-9零〇一二三四五六七八九十百千万、，：；？！。…‘’“”（）()]|[票榜:：.]|推荐|排行|等级|说明|收藏|书评|简介|分[类卷]|简介|作者|手机|软件|应用|安装|客户|移动|pc|电脑|安卓|苹果|下载|最新|ap[kp]|ipa|plx|deb|exe|zip|rar|txt|epub))\"));\n\nif(y.size()){\nys=y.select(\"a[href~=(?i)catalog|contents|list|chapter|mulu|(^|[^a-z])ml|more|read|all]:matches([正顺順]序|全文|章[節节]|目[錄录]):not(:matches(阅读)),a[href~=(?i)catalog|contents|chapter|(^|[^a-z])ml|mulu|read]:matches(更多|列表),a[href~=(?i)catalog|contents|list|chapter|mulu|(^|[^a-z])ml|more|all]:matches(^$),a:matches(^([↑\\\\[]?[正顺順]序[\\\\]↑]?|全文(免[費费])?[阅閱][讀读]|[><.-]*(点击|查看|展[开開]|进入|返?回到?)*([全正]文|(更多|完整|全部|所有)?(章[節节]|(作品)?目[錄录])+)+(列表)?(\\\\s*(查看|展开)?更多|[><.-]+)?)$)\");zt=false;\n\nif(!ys.size()){\nba=baseUrl.match(/(?:[^\\/_-][\\/_-]([^\\/._-]+))?[\\/_-]([^\\/._-]+)(?:\\/|\\/index[^\\/]*|\\.[^\\/.]+)?$/);\n\nif(xi=(id=ba[2]).match(/\\?[^=]+=([^&]+)/)||id.match(/^[^\\d%]*(\\d{2,}|[1-9])$/))id=xi[1];\nif(ba[1])if(xi=ba[1].match(/^[^\\d%]*(\\d{2,})$/))id=/^\\d$/.test(id)||!xi[1].indexOf(id)?xi[1]:\"(\"+id+\"|\"+xi[1]+\")\";\n\nys=y.select(\"[href~=(?i)^((.*//[^/]+/)?[^=.]*[^\\\\d=.])?\"+id+\"([?_-][a-z=_-]*0|\\\\.[^.]+|[/?]([^\\\\d]*|[^/\\\\d]*/?|(catalog(ue)?|contents|([_-]?list|[_-]?chapters?)+|mulu|ml|more|all)([=_-][a-z]*)?\\\\d+[^\\\\d]*)?)?(&.+)?$]:not(:contains(\"+(bs=String(book.name)[0])+\"))\");\n\nif(!ys.size()){zt=true;\nys=y.select(\"[href~=(?i)^((.*//[^/]+/)?[^=.]*[^\\\\d=.])?(\\\\d+/\"+id+\"[_-]\\\\d+[^\\\\d]*|\"+id+\"[_-][a-z_-]*1[^\\\\d]*)$]:not(:matches(阅读|\"+bs+\"))\")}}\n\nif(ys.size()){\nif((re=ys.select(\"[href~=(/|^)[^.]+$]\")).size())ys=re;\nre=ys.first().attr(\"href\");\n\nfor(x=1;x<ys.size();x++)if((xs=ys.get(x).attr(\"href\")).length()>re.length())re=xs;\nif(zt||/(^|[^/])\\/[^/]+[/?](catalog(ue)?|contents|([_-]?list|[_-]?chapters?)+|mulu|ml|more|all)([=_-][a-z]*)?([2-9]\\d*|1\\d+)[^\\d]*$/i.test(re))re=String(re).replace(/\\d+(?=[^\\d]*$)/,\"☯1\")}}}\n\nre=String(!re?baseUrl:/^https?:/.test(re)?re:/^\\/\\//.test(re)?b.split(\"//\")[0]+re:/^\\//.test(re)?b+re:baseUrl+re)}\n\njava.put(\"ba\",re.replace(/(?:[☯?&/_-][^\\d]*[01])+[^\\d]*$/,\"\"));\n\nif(java.get(\"跳\")==1||/^\\{[^{}]*跳(?=[^{}]*\\})/.test(book.customIntro))re=re.concat(',{\"webView\":true}');\n\nre==baseUrl?\"\":re.replace(\"☯\",\"\")",
      "wordCount": "{{baseUrl}}##//([^/]+)##$1##"
    },
    "ruleContent": {
      "content": "@js:r=org.jsoup.Jsoup.parse(result);\n\nif(java.get(\"图\")==1||/^\\{[^{}]*图(?=[^{}]*\\})/\n.test(book.customIntro)){\n\nfor(c=2;c;c--){\n\nif(y=(m=r.select(\"img:not([src~=(?i)^$|^javascript:|\\\\.gif|[^a-z](css|icon|load(ing|ed)?)[^a-z]])\")).size()?(y=m.select(\":not([src~=(?i)\\\\.png])\")).size()?y:m.select(\"[src~=(?i)\\\\.png]\"):\"\"){\"🌕\"+y;break;}\n\nr=org.jsoup.Jsoup.parse(java.ajax(baseUrl+',{\"webView\":true}'))}\n\n}else{try{for(c=2;c;c--){\nr.select(java.get(\"字\")==1||/^\\{[^{}]*字(?=[^{}]*\\})/.test(book.customIntro)\n?'a>*,script,noscript,style,header,footer,[class~=^foot|^head],[id~=^foot|^head],:not(:has(p:matchesOwn([\\\\s\\\\S]{200}),p:first-of-type+p):contains(。)) p,:matchesOwn([\\\\s\\\\S]{50})>:not(br,a),:not(br,p,a,:matches([\\\\s\\\\S]{200}),:has(p,br,div:matchesOwn(，|。)+div:matchesOwn(，|。)),:has(p,br,div:matchesOwn(，|。)+div:matchesOwn(，|。)) :matchesOwn(\\\\S))'\n:'a:not(:matches(^$)>img:only-child)>*,script,noscript,style,header,footer,[class~=^foot|^head],[id~=^foot|^head],img[src~=(?i)^$|^javascript:|[^a-z](css|icon|load(ing|ed)?)[^a-z]|/\\\\d+s\\\\.jpg],:not(:has(p:matchesOwn([\\\\s\\\\S]{200}),p:first-of-type+p):contains(。)) p,:matchesOwn([\\\\s\\\\S]{50})>:not(img,br,a,:has(img)),:not(img,br,p,a,:matches([\\\\s\\\\S]{200}),:has(p,br,img,div:matchesOwn(，|。)+div:matchesOwn(，|。)),:has(p,br,img,div:matchesOwn(，|。)+div:matchesOwn(，|。)) :matchesOwn(\\\\S))').remove();\n\nd=[\"div:matchesOwn(\\\\S):has(br)\"\n,\"p:matchesOwn(\\\\S):not(:has(br))\"\n,\"p:matchesOwn(\\\\S):has(br)\"\n,\"div:matchesOwn(\\\\S):not(:has(br))\"\n,\"body:not(:has(:matches([\\\\s\\\\S]{50}))) img,:matches([\\\\s\\\\S]{50}):has(>:matchesOwn(\\\\S)),body:not(:has(img)) :matchesOwn(\\\\S)\"];\n\nfor(i=0;i<5&&(y=r.select(d[i])).text().length()<300;i++);if(i<5||c-2)break;\nr=org.jsoup.Jsoup.parse(java.ajax(baseUrl+',{\"webView\":true}'))}\n\nif((i==0||i==2)&&y.size()==2)y=y.first().text().length()>y.get(1).text().length()?y.first():y.get(1);\n\nr=String(y).replace(/<([a-z]+)[^>]*\"-\\d+\"[^>]*>[^<]+<\\/\\1>|[^<>]*<a[^<]+<\\/a>[^<]*|&lt[; ]?([a-z]+)(?:[^<>&\"]|\"[^\"]+\")*&gt[; ]?(?:[^<>&]|&nbsp;)*&lt[; ]?\\/\\2&gt[; ]?|&lt[; ]?[a-z]+(?:[^<>&\"]|\"[^\"]+\")*&gt[; ]?|[☯📑⚙️🌗🌕🌓︴]/g,\"\").replace(/((?:[〖【『「（《〈〔［\\[(][^〖【『「（《〈〔［\\[()］〕〉》）」』】〗\\]]*[)］〕〉》）」』】〗\\]]\\s*)*(?:(?:第?(?:&nbsp;|\\s)*[一二三四五六七八九十百千万〇零0-9]+(?:&nbsp;|\\s)*[章节回話话：:.．,，、]*(?:&nbsp;|\\s)*)+{{(n=(t=title.replace(/[*$|?+\\\\\\^\\[\\](){}\\s/]/g,\"[\\\\S\\\\s]?\")).match(/\\S+$/)[0].replace(/^(正文[^\\u4e00-\\u9fa5A-Za-z]*|第?[一二三四五六七八九十百千万〇零0-9]+[章节回話话\\s：:.．,，、]*)+/,\"\"),/\\S/.test(n)?n+\"|\":\"\")+t+\"|\"+book.name}})(?:\\s*[〖【『「（《〈〔［\\[(][^〖【『「（《〈〔［\\[()］〕〉》）」』】〗\\]]*[)］〕〉》）」』】〗\\]])*)/g,\"🌗$1🌓\").replace(/[\\snbsp;]*(&nbsp;|\\s){2,}/g,\"　　\");\n\n(/^　　/.test(r)?r.replace(/>(?!　　|\\s*n?b?s?p?;)\\s*(?=[^\\s<>])/g,\">︴\"):r)+\"📑\"}catch(e){\"🌕\"}}",
      "imageStyle": "FULL",
      "nextContentUrl": "a:matches(第二[頁页]|下[一\\s]*[頁页篇章回节節话話]):not([href~=^javascript:|^#])@href\n@js:result.size()&&(/^[^/]+$/.test(result)||String(result).indexOf(String(chapter.url).replace(/(?:[_-][01])?\\.[a-z]+$|https?:\\/\\/[^/]+\\/|[^&=]+=[01]&/gi,\"\"))+1)?result:null",
      "replaceRegex": "@js:/🌕/.test(result)?result.replace(/🌕/g,\"\"):result\n.replace(/—/g,\"─\")\n.replace(/[·۰•・]/g,\"・\")\n.replace(/\\s*(?:︴[^\\n　]+\\s+)*📑\\s*|^\\s*(︴[^\\n　]+\\s+)*|\\s*(?:　　|\\n)(?:[\\s&#a-zA-Z0-9]*;)?[\\s　?]*/g,\"☯\")\n.replace(/(?:︴[^☯]*☯)+(?=︴)|☯(?:温馨|[^a-zA-Z0-9\\u4e00-\\u9fa5☯]+)提示.?[:：][^☯]+|☯[^☯]+字体不会安装.?请百度[^☯]+|☯.{0,2}正版订阅在阅文旗下的起点和QQ书城，可以第一时间看到最新章节.{0,2}(?=☯)|︴\\s*第?[〖【『「（《〈〔［｛\\[{(][^☯]+(?=☯)|☯第\\s*[（(][^（()）]+[)）][頁页](?=☯)|[^☯]*(?:关注|[微vVＶｖ][^\\u4e00-\\u9fa5A-Za-z0-9]*[信xXｘＸ]|公[^\\u4e00-\\u9fa5]*众[^\\u4e00-\\u9fa5]*号){2,}[^☯]*|(?:&#?[a-z0-9]*;?)+(?=;|☯);*|reads；/g,\"\")\n.replace(/\\s+/g,\" \")\n.replace(/☯[ ☯]*/g,\"\\n\")\n.replace(/(\\n[〖【『「（《〈〔［｛\\[{(]?)([pPＰｐ][SsｓＳ]+(?=[ ：:;；，,、。.─\\d\\u4e00-\\u9fa5])[^\\n]+)/g,\"$1🌕$2\")\n.replace(/(<img )[^>]*(src=\"[^\"]+\")[^>]*(>)|((?: ?[＋+－-]?[0-9０-９]+(?:[．.／/][0-9０-９]+)?[％%]?[a-zA-Z]*)+ ?|[ _＿－-]?[a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９]+)/g,\"$1$2$3☯$4☯\")\n.replace(/☯[・。](?=☯)/g,\"☯.\")\n.replace(/☯☯|(?:\\n[^āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌕🌓︴\\n]+|([。？！…”』」】〗])[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌓☯︴\\n]+[\\u4e00-\\u9fa5]+)?[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌓☯︴\\n]+(?=\\n)|[^☯!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛｝］〕〉）＞’”》」』】〗]*☯([a-zA-ZＡ-Ｚａ-ｚ]*[āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ][a-zA-ZＡ-Ｚａ-ｚ]*)☯[^☯!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛｝］〕〉）＞’”》」』】〗]*/g,\"$1$2\")\n.replace(/[^!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗︴🌕]*(?:☯[^.．!(),\\n\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗]+|([^☯!(),\\na-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗])(?!\\1)|☯(?=[^☯!(),\\na-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗][!(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗])|[〖【『「（《〈〔［｛\\[{(][^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[)｝］〕〉》）」』】〗\\]}]){4,}|[〖【『「（《〈〔［｛\\[{(][^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[)｝］〕〉》）」』】〗\\]}]/g,\"📑\")\n.replace(/(?:([\\n。？！])[^\\n。？！]{1,10})?[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*(?:☯[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]☯|📑|🌕)[^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[｝］〕〉》）」』】〗\\]})](?:[^。]{0,5}(?:[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*(?:☯[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]☯|📑)[^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[｝］〕〉》）」』】〗\\]})]|[^📑!,()\\s\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+))*(?:(?:[^\\n]{1,10}|(?:[\\u4e00-\\u9fa5]{0,5}[，、])*[\\u4e00-\\u9fa5]+[！。]?)(?=\\n))?/g,\"$1\")\n.replace(/([^🌗🌕🌓📑︴*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]*(?:(?:[^🌗🌕🌓📑︴*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+[*(), \\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]{1,3})*[^*︴📑☯🌗🌕🌓\\s&;(),āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜa-zA-ZＡ-Ｚａ-ｚ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─‘’“”【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}%%・/／＝=_＿.．＋+－-]+|☯[^☯\\n]+☯.☯[^☯\\n]+☯|本[文书](?:首发|来自)|(?:章节不完整.?|完整章节)?请.{2,6}(?:搜索|百度|引擎|关键[词字])+|(?:[阅閱][讀读]|访问|訪問|[網网地][站址]|链接|鏈接|[\\u4e00-\\u9fa50-9a-zA-Z]{0,4}(?:文学|中文|[網网]))+[:：]|[\\u4e00-\\u9fa50-9a-zA-Z]{0,6}(?:[網网地][站址]|链接|鏈接)为|.{2,4}文[学學][網网]|[请請].{2,4}收藏(?:.{0,2}推[荐薦])?|一秒[記记]住|，?請?訪問|(?:[更最][快新]|[快高]速|热门|(?:[阅閱][讀读])?完整|本|(?:官[網网]|本站).{0,2})(?:章[節节]|小说|更新|[網网][址站]|快速)|更新(?:速度)?[最更]?快|(?:(?:无错)?小说|正版|免费|全[文本]|在线|访问|訪問|txt|TXT|继续|各种|推[荐薦]|收藏|分享|交流|你?喜欢的)+(?:全文|免费|在线|[阅閱]?[讀读]|下载|章[節节]|小说|好书)|章[節节](?:目录|列表)|小说[網网](?:更新)?|手打全文|[纯全](?:手打|文字)|手机看书|手机版|笔趣阁|(?:本站|[網网]站|站内|看)?无(?:任何)?(?:广告|弹窗|防盗)(?:章节)?|不弹窗|(?:(?:請|请|或者?)?(?:訪問|访问|[電电手][腦脑机機]|[網网][址站]|用[户戶]|浏览|瀏覽|閱讀|阅读|看小说|看漫画)){2,}|看小说|看漫画|最佳选择|阅读体验|(?:推[荐薦]|收藏|分享)(?:本站|我们)|小说..版|文章质量更好|谢谢各位(?:读者|书友)支持|水印广告测试|本章未完|请翻页|点击下一页|领.{0,2}红包|关注[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]+[)｝］〕〉》）」』】〗\\]}])(?:[* (),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]{0,3}[^🌗🌓📑*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+)*|🌗[^\\n]+🌓)/g,\"\\n⚙️$1⚙️\\n\")\n.replace(/(🌕)\\s*⚙️|⚙️(<img[^>]+>)⚙️|(⚙️\\n)|([「『【〖《，、；\\n])[\\n。、…：；？！」』】〗》’!]+(?!⚙️)|([：？！。…─])(?:[^⚙️☯a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n…─’”)｝］〕〉》）」』】〗\\]}]+(?=\\n)|[^⚙️☯a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n…─“‘’”〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]+)|🌗|🌓|☯/g,\"$1$2$3$4$5\")\n.replace(/([)）？！?!…」』”\\s。>])[^\\n（(🌕)）”』」’。]{0,5}(?:(?:\\n⚙️.+⚙️\\n|[^（()）\\n”』」。]{0,5}📑)[^（()）\\n。]{0,5}(?:\\n⚙️.+⚙️(?:\\n(?=\\n⚙️|[^（()）\\n]{1,5}\\n))?|[^（()）\\n。]{0,5}📑)+(?:[^（()）\\n]{1,5}(?=\\n))?|(?:(?:(?:\\n⚙️.+⚙️\\n|[^（()）\\n。]{0,5}📑)[^（()）\\n]{0,5}){2,}|[^（(🌕)）”』」’\\n。]{0,5}(?:(?:免费|热门|官网|正版|在线|同步|下载|文学|中文|章节|[本网][站址]|站内|小说|更新|无错|[本全][文本章]|首发|广告|弹窗|防盗|访问|訪問|txt|TXT|读者|书友|百度)[^（()）\\n]{0,5})*(?:📑|\\n⚙️[^\\n]+⚙️\\n)[^（()）\\n]{0,5}(?:(?:免费|热门|官网|正版|在线|下载|同步|文学|中文|章节|[本网][站址]|站内|小说|更新|无错|[本全][文本章]|首发|广告|弹窗|防盗|访问|訪問|txt|TXT|读者|书友|百度)[^（()）\\n]{0,5})*|[^（(🌕)）\\n”』」’。]{0,3}\\n⚙️.+⚙️\\n[^（()）\\n。]{0,3})(?:[\\u4e00-\\u9fa5]+[！。]?|[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n]+)?(?=\\n))|\\n⚙️[^\\u4e00-\\u9fa5]+⚙️\\n|📑|\\s*︴\\s*|\\n?⚙️\\n?|\\n[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n]{2,}\\n[^🌕a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n“《‘【〖『「]*/g,\"$1\")\n.replace(/(?:(?:\\n🌕[^\\n]*)+(?:\\n+[^\\n]+){0,4}|\\n(?:[(（{｛][^(（<{｛｝}>）)]*(?:(?:[(（{｛][^(（<{｛｝}>）)]*[）)｝}])[^(（<{｛｝}>）)]*)*[）)｝}]?\\s*)+|[^\\n]*起点(?:原创|中文)[^\\n]*|[〖【『「（《〈〔［｛\\[{(]?未完待续[^\\n]*)[^\\u4e00-\\u9fa5<>]*$|^\\s*(?:(?:[^\\n]+\\n+){0,4}(?:🌕[^\\n]*\\n?)+|(?:[(（{｛][^(（<{｛｝}>）)]*(?:(?:[(（{｛][^(（<{｛｝}>）)]*[）)｝}])[^(（<{｛｝}>）)]*)*[）)｝}]?\\s*)+|，[^\\n]+)\\n|(?:^|\\n)[^a-z0-9A-Z\\u4e00-\\u9fa5]*(?=\\n)|🌕/g,\"\")",
      "sourceRegex": "",
      "webJs": ""
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "@get:{au}",
      "bookList": ".result:has(h3 a)",
      "bookUrl": "@get:{ur}",
      "coverUrl": "img@src",
      "intro": ".op_tb_content@all||.c-abstract@all||span:matches([\\u4e00-\\u9fa5]):not(:has(a))@all||p:not(:has(a))@all",
      "kind": "@js:String(result).replace(/\\s*(?:&nbsp;)+\\s*/g,\" \").replace(/\\s*<\\/?em>\\s*/g,\"\")\n##(?:[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】》]|<[^a/][^>]*>|</[^>]+>)[分类大]\\s*[类型别](?:[:：\\s]|<[^>]+>)+([^\\s<\"./／｜|>]+)##$1###\n@js:fl=String(java.get(\"fl\")).match(/^正版$|[［\\[][^\\s\\d［\\[\\]］]+/);\nfl?fl[0].replace(/^[［\\[]?/,\"\\n\")+result:result",
      "lastChapter": "@js:u=false;r=org.jsoup.Jsoup.parse(result);\nif((b=r.select('span[data-tools]:not([data-tools~=baidu.com\\\\?/link\\?url=])')).size()){\ny=u=String(b.attr('data-tools')).replace(/.\\}$|^[^\\n]+url:.|\\\\/g,'')\n}else if((k=r.select('a:contains(百度快照)')).size()){y=k.attr('href')\n}else y=String(r.select('h3 a').attr('href'));\njava.put(\"ur\",y);\nif(!u)u=''+r.select('.c-showurl').text()||y;\njava.put(\"url\",u)\n##https?://",
      "name": "@js:re=String(result).replace(/\\s*(?:&nbsp;)+\\s*/g,\" \").replace(/\\s*<\\/?em>\\s*/g,\"\");\njava.put(\"fl\",res=String(java.getString(\"h3 a@text\",false)));\nkey=java.get(\"key\");\nax=java.get(\"aut\");\nr=res.match(/[^《》]+(?=》)/);\n\nr=(r?r[0]:res).replace(/^[「『【〖（(\\[]/,\"\").replace(/(?!^)[^\\u4e00-\\u9fa5a-zA-Z0-9]*(?:笔趣阁|思路客|燃文|小说|漫画|手机)?(?:[.|,_/\\s「『【〖（(\\[\\])）〗】』」。-]|(?:人工|机器|电脑)?校正|精校|完[整结]|加料|番外|未删节|简介|全[文本集]|下载|(?:小说|漫画|大全|正版(?:小说|漫画)?|免费|免费小说|免费漫画|免费全[文本]|在线|最[新快]|全部|手机|电脑)(?:全[文本集部]|大全|免费|在线|阅读|下载|章节|小说|更新|漫画|\\.)|([^a-zA-Z0-9])(?:azw|mobi|epub|txt)(?![a-zA-Z0-9])|(?:最全)?(?:章节|目录|列表){2,}|更新章节最快|无广告|(?::顶点)?无弹窗|无防盗|小说网|手打全文|[纯全](?:手打|文字))[\\S\\s]*/i,\"$1\");\n\nif(ax==\"#\"||re.indexOf(ax)<0){\nax=re.match(/《([^《》]+)》作品集|[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】《》>]作\\s*者(?:[:：\\s“\"'(（]|<[^i\\/][^>]*>|<\\/[^>]+>)+(?![^\\s<(《“（）”》)>\\/\\[\\];?!,、，；？！。…─［］〖〗【】]*\\.{3}<)([^\\s<(《“（\"'）”》)>\\[\\];?!,、，；？！。…─［］〖〗【】/／｜|:：]+?)(?=(?:其[他它]|小说|[更最][快新]|\\.\\s*)?..[:：]|所?写?的《|[\\s<(《“（\"'）”》)>\\[\\];?!,、，；？！。─［］〖〗【】/／｜|])/);\nif(!ax){\nax=re.match(new RegExp(r+\"[^a-z0-9A-Z\\\\u4e00-\\\\u9fa5]*([^\\\\s]+?)\\\\s+著|(?:由|原创)(?:(?:原创|网络)?作[家者])?(?![\\\\u4e00-\\\\u9fa5a-zA-Z0-9_-]*(?:[书网]友|网)所?提供)([\\\\u4e00-\\\\u9fa5a-zA-Z0-9_-]+?)(?:所作|所?(?:(?:精心)?[创著]作|提供|写?的(?:《|\"+r+\")))\"));\nif(!ax)ax=res.match(/[^.|,_/\\s\\[\\]（()）【〖〗】。-]+[（(](?![^\\s]+[\\s、：；？！…─“‘《〖【，。:;?!\"'】〗》’”][^(（）)]+|(?:连载中?|完本|大结局|上|中|下|[\\s.一二三四五六七八九十百千万〇零0-9]+)[）)])([^（()）]+?)(?:(?:\\s+|所)?著|的?新书|[/／｜|][^)）]+)?[)）]/)}\nax=ax?ax[1]||ax[2]:\"\"}\n\nif(!ax.length&&re.indexOf(key)+1&&r.indexOf(key)<0)ax=key;\n\nif(r.indexOf(ax)>0&&key.indexOf(r)<0)r=r.split(ax)[0];\n\nzt=[/小说/.test(key),/有声/.test(key),/(?!^)小说(?!$)/.test(key),/(?!^)有声(?!$)/.test(key)];\nif(!zt[0]&&!zt[1]||zt[2]&&zt[3]){\nrez=\"(?!^)(有声|小说|有声小说)$|^(有声|小说|有声小说)(?!$)\"\n}else if(!zt[1]||!zt[2]&&zt[3]){\nrez=\"(?!^)有声$|^有声(?!$)\"\n}else if(!zt[0]||zt[2]&&!zt[3]){\nrez=\"(?!^)小说$|^小说(?!$)\"\n}else rez=\"☯\";\nif(!/漫画/.test(key)||/(?!^)漫画(?!$)/.test(key))rez+=\"|(?!^)漫画$|^漫画(?!$)\";\n\nix=r.replace(new RegExp(rez),\"\").split(/[：:]/);i=0;\nwhile(i<ix.length){x=ix[i];\nif(x.indexOf(key)>=0||key.indexOf(x)>=0)break;i++}\nif(i==ix.length)i=0;\n\njava.put(\"au\",ax);\njava.put(\"bb\",ix.slice(i,i+2).join(\":\"))",
      "wordCount": "@css::has(>span:matches(\\S)+span:matches(^新$))>span:first-child@text||p a@text||.chapter-title:first-child@text\n##\\s\\d+$|;$"
    },
    "ruleToc": {
      "chapterList": "@css::matchesOwn(^$|[0-9〇一二三四五六七八九十])>a[href~=^[^#:]+$|^h]:matches(\\S):not(:has(img,*>*>*),[href~=(?i)SystemInfo|\\.aspx$|\\.php$|book(info|case)|(^/?|//.+/)[^/]*(hot|sort|top|buy|coins|nutrition|review|ticket|update|author|xiazai|down|app)(?!=)|\\d+_\\d+_\\d+],:matches((?i)最新章节$|^(((点击|软件|应用|安装|客户|移动|手机|电脑|安卓|苹果|下载|阅读|pc|ap[kp]|ipa|plx|deb|exe|zip|rar|txt|epub)[\\s.端版]*){2,}|[A-Za-z0-9\\u4e00-\\u9fa5]?返回.*(简介|书页|目录)[A-Za-z0-9\\u4e00-\\u9fa5]?|[<>-]+|正文|[上下首尾]([一\\s]*[页頁]|[\\s\\d零〇一二三四五六七八九十百]*章)|[↑\\[]?[倒正反逆顺順]序[↓\\]]?|免费试读|(在线|开始|立即|全文|从头)+阅读|[^\\s\\d外内楔前后卷篇章]*(作者|双倍月票|感言|推书|推[a-z0-9A-Z_\\u4e00-\\u9fa5\\-]+书|[求个请投点](月?票|收藏|订阅|推荐)|感谢(读者|书友|大家|各位)[书点]评[^\\s]*活动|没[有空]?更新|没时间更新|请个?假|关于本书|关于更新|打赏名单|起点活动)[^\\s]*)$))\n@js:b=java.get(\"ba\");\n\nif(zt=!(java.get(\"全\")==1||/^\\{[^{}]*全(?=[^{}]*\\})/.test(book.customIntro))){\nll=null;\n$=it=>(qc=ll,ll=result.select(it)).size()>20&&(result=re=ll);\n\nif(!(((ck=java.get(\"ck\"))!=\"\"&&$(\"[href~=\"+ck+\"[^i.]|/vip[_-]?(read|chapter)|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}]:not([href='\"+book.tocUrl+\"'])\"))||$(\"[href~=^[a-z0-9]+(/|\\\\.[^./]+)?$]\"))){\nif(qc&&qc.size()>ll.size())ll=qc;\n\n$=it=>(re=result.select(it)).size()&&(result=re);\n\nif(!($(\"[data-cid]\")||$(\"[href~=(^|[/_-])(chapter|read)+([_-]?id)?/[^/_-]+[/_-][^/_-]+]\")||$(\"[href~=(^|[&?/_-](book|novel|comic)?)(chapter|read)+([_-]?id)?[?/=]]\")||$(\"[href~=[&?/_-]cid[&?/_=-]]\")||$(\"[data-href]\"))){\n\nba=b.match(/(?:[^/_-][/_-]([^/._-]+))?[/_-]([^/._-]+)(?:\\/|\\/index[^/]*|\\.[^/.]+)?$/);\n\nif(xi=(id=ba[2]).match(/\\?[^=]+=([^&]+)/)||id.match(/^[^\\d%]*(\\d{2,}|[1-9])$/)||ba[1]&&ba[1].match(/^[^\\d%]*(\\d{2,})$/))id=xi[1];\n\n$(\"[href~=([^\\\\d]|^)\"+id+\"[/_&-][^\\\\d]*\\\\d+]:not([href~=\"+id+\"[^\\\\d]*$]),[href~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}|([^\\\\d]|^)\"+id+\"[/_&-][^\\\\d]*\"+id+\"(/|\\\\.[^.]+|&.+)?$]\")||$(\"[title]\")||$(\"[href~=/view/\\\\d+\\\\.[a-zA-Z]+$]\")}\nif(re.size()<ll.size())result=ll}}\n\nif(java.get(\"逆\")==1||/^\\{[^{}]*逆(?=[^{}]*\\})/.test(book.customIntro))for(i=0,s=result.size()-1;i<s/2;i++){li=result.get(i);\nresult.set(i,result.get(s-i));\nresult.set(s-i,li)}\n\nzt&&re.size()?result:[\"<a href='\"+b+\"'>预览内容</a>\"].concat(result.toArray())",
      "chapterName": "text@js:result.replace(/(第)\\s+|(\\d)第(?=\\d)|\\s+([章节回話话卷])/,\"$1$2$3\")",
      "chapterUrl": "href##[/\\s]+$",
      "isVip": "",
      "nextTocUrl": "a:matches(下[一\\s]*[页頁]|下[一二三四五六七八九十百千万〇零0-9]{2,}章):not([href~=^#|javascript:])@href",
      "updateTime": ""
    },
    "searchUrl": "https://www.baidu.com/s?pn=<0,{{page*10}}>&wd={{\nkey=key.trim();aut=\"#\";\nif(key[0]==\"@\"){\nkey=key.slice(1);\njava.put(\"转\",1)}\nif(key[0]==\"!\"){\nkey=key.slice(1);\njava.put(\"直\",1);\njava.put(\"全\",1)}\nif(key[0]==\"^\"){\nkey=key.slice(1);\njava.put(\"跳\",1)}\nif(key[0]==\"-\"){\nkey=key.slice(1);\njava.put(\"逆\",1)}\nif(key[0]==\"|\"){\nkey=key.slice(1);\njava.put(\"字\",1)}else if(key[0]==\"_\"){\nkey=key.slice(1);\njava.put(\"图\",1)}\nz=key.lastIndexOf(\"#\")+1;\ns=key.lastIndexOf(\"$\");\nif(/\\$[a-zA-Z0-9/._-]+$/.test(key))key=key.slice(0,s).concat(\" site:\",key.slice(s+1));\ns=s+1?s:key.length;\nas=key.slice(z?z:s,s);\nif(!/^\\s*$/.test(as)){\naut=as.match(/[^\\s\"]+/)[0];\nkey=key.slice(0,z-1).concat(\" \",key.slice(z))}\njava.put(\"aut\",aut);\njava.put(\"key\",key.match(/[^\\s\"]+/)[0]);\nkey}}",
    "weight": 0
  },
  {
    "bookSourceComment": "─────当前版本Pro V18─────\n\n点击登录即可查看:\n\n0、书源制作思路\n\n1、版本更新日志\n\n2、书源用法展示\n\n3、相关问题解释\n\n───────搜索格式────────\n\n完全格式：书名#作者$网站\n简化格式1：书名$网站\n简化格式2：书名#作者\n简化格式3：书名\n简化格式4：#作者\n\n──────前缀设置全体───────\n\n转化：关键字前加“@”，`设置本次搜到的所有书籍`优先考虑将链接转化为电脑版，争取获得目录不分页的电脑版链接\n\n单页：关键字前加“!”，`设置本次搜到的所有书籍`搜到什么点开就是什么，不做目录识别也不做章节识别，自动为当前网页构造目录，当前网页的内容储存在“预览内容”中\n\n跳转：关键字前加“^”，`设置本次搜到的所有书籍`允许目录自动跳转，目录标题中写着点击跳转时可如此做。\n\n逆向：关键字前加“-”，`设置本次搜到的所有书籍`目录章节逆向排序，配合指定网站的搜索方式针对小说全是逆向排序的网站比较方便。\n\n图文：关键字前加“|”，`设置本次搜到的所有书籍`正文只查询文字，不查询图片。或关键字前加“_”，`设置本次搜到的所有书籍`正文只查询图片，不查询文字。这两个前缀只能设置其一，都不设置时默认图文都查询。\n\n──────简介设置单本───────\n\n说明：将特定字段插入简介保存后，点刷新可实现目录跳转、目录逆向排序、目录链接指定等多种功能。\n\n局限：修改简介再点刷新只会控制当前书籍执行指定功能，想控制所有书籍执行指定功能，请采用上面`全部设置`的方式在关键字前加相应前缀并重新搜索\n\n位置：插入到简介最前端\n\n格式：在“{}”中包含以下文字就会触发相应功能\n─────⤵\n转：尽量考虑将链接转化为电脑版，争取获得目录不分页的电脑版链接\n\n直：不做目录识别，直接将详情页作为目录页，或以“直[目录链接]”格式直接指定目录链接，目录识别错误时可这种做。\n\n跳：允许目录自动跳转，目录标题说点击跳转时可如此做。\n\n全：直接显示“预览正文”和查询到的所有章节，跳过章节筛选环节，单页文章和部分筛选后章节不全的小说网站可这样做。\n\n逆：设置目录章节逆向排序。\n\n图：设置成看图模式(默认为图文模式)，只显示图片，不显示文字。\n\n字：设置成纯字模式(默认为图文模式)，只显示文本，不显示图片。\n─────⤴\n\n示例：{直[http://m.biquku.la/0/425/]全字}\n\n效果：①直接将“http://m.biquku.la/0/425/”作为小说目录链接②显示元素查询得到的全部章节列表，不做章节筛选③以纯文字模式查找正文内容，避免图片干扰。",
    "bookSourceGroup": "📑夸克搜书",
    "bookSourceName": "夸克搜书",
    "bookSourceType": 0,
    "bookSourceUrl": "夸克搜书",
    "bookUrlPattern": "",
    "customOrder": -38218,
    "enabled": true,
    "enabledExplore": true,
    "exploreUrl": "　　　　　　　  男频🚹总榜  　　　　　　　::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=全部&rank=rank_update\n玄幻热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=玄幻&rank=rank_hot\n玄幻好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=玄幻&rank=rank_good\n玄幻完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=玄幻&rank=rank_finish\n玄幻窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=玄幻&rank=rank_increase\n玄幻新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=玄幻&rank=rank_new\n玄幻勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=玄幻&rank=rank_update\n都市热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=都市&rank=rank_hot\n都市好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=都市&rank=rank_good\n都市完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=都市&rank=rank_finish\n都市窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=都市&rank=rank_increase\n都市新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=都市&rank=rank_new\n都市勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=都市&rank=rank_update\n科幻热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=科幻&rank=rank_hot\n科幻好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=科幻&rank=rank_good\n科幻完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=科幻&rank=rank_finish\n科幻窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=科幻&rank=rank_increase\n科幻新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=科幻&rank=rank_new\n科幻勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=科幻&rank=rank_update\n历史热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=历史&rank=rank_hot\n历史好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=历史&rank=rank_good\n历史完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=历史&rank=rank_finish\n历史窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=历史&rank=rank_increase\n历史新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=历史&rank=rank_new\n历史勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=历史&rank=rank_update\n仙侠热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=仙侠&rank=rank_hot\n仙侠好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=仙侠&rank=rank_good\n仙侠完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=仙侠&rank=rank_finish\n仙侠窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=仙侠&rank=rank_increase\n仙侠新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=仙侠&rank=rank_new\n仙侠勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=仙侠&rank=rank_update\n游戏热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=游戏&rank=rank_hot\n游戏好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=游戏&rank=rank_good\n游戏完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=游戏&rank=rank_finish\n游戏窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=游戏&rank=rank_increase\n游戏新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=游戏&rank=rank_new\n游戏勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=游戏&rank=rank_update\n武侠热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=武侠&rank=rank_hot\n武侠好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=武侠&rank=rank_good\n武侠完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=武侠&rank=rank_finish\n武侠窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=武侠&rank=rank_increase\n武侠新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=武侠&rank=rank_new\n武侠勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=武侠&rank=rank_update\n灵异热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=灵异悬疑&rank=rank_hot\n灵异好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=灵异悬疑&rank=rank_good\n灵异完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=灵异悬疑&rank=rank_finish\n灵异窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=灵异悬疑&rank=rank_increase\n灵异新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=灵异悬疑&rank=rank_new\n灵异勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=灵异悬疑&rank=rank_update\n奇幻热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=奇幻&rank=rank_hot\n奇幻好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=奇幻&rank=rank_good\n奇幻完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=奇幻&rank=rank_finish\n奇幻窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=奇幻&rank=rank_increase\n奇幻新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=奇幻&rank=rank_new\n奇幻勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=奇幻&rank=rank_update\n军事热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=军事&rank=rank_hot\n军事好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=军事&rank=rank_good\n军事完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=军事&rank=rank_finish\n军事窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=军事&rank=rank_increase\n军事新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=军事&rank=rank_new\n军事勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=军事&rank=rank_update\n体育热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=体育&rank=rank_hot\n体育好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=体育&rank=rank_good\n体育完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=体育&rank=rank_finish\n体育窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=体育&rank=rank_increase\n体育新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=体育&rank=rank_new\n体育勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=male&cate=体育&rank=rank_update\n　　　　　　　  女频🚺总榜  　　　　　　　::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=全部&rank=rank_update\n现言热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=现言&rank=rank_hot\n现言好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=现言&rank=rank_good\n现言完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=现言&rank=rank_finish\n现言窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=现言&rank=rank_increase\n现言新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=现言&rank=rank_new\n现言勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=现言&rank=rank_update\n同人热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=同人&rank=rank_hot\n同人好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=同人&rank=rank_good\n同人完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=同人&rank=rank_finish\n同人窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=同人&rank=rank_increase\n同人新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=同人&rank=rank_new\n同人勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=同人&rank=rank_update\n古言热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=古言&rank=rank_hot\n古言好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=古言&rank=rank_good\n古言完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=古言&rank=rank_finish\n古言窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=古言&rank=rank_increase\n古言新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=古言&rank=rank_new\n古言勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=古言&rank=rank_update\n轻幻热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=二次元&rank=rank_hot\n轻幻好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=二次元&rank=rank_good\n轻幻完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=二次元&rank=rank_finish\n轻幻窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=二次元&rank=rank_increase\n轻幻新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=二次元&rank=rank_new\n轻幻勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=二次元&rank=rank_update\n幻言热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=幻言&rank=rank_hot\n幻言好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=幻言&rank=rank_good\n幻言完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=幻言&rank=rank_finish\n幻言窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=幻言&rank=rank_increase\n幻言新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=幻言&rank=rank_new\n幻言勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=幻言&rank=rank_update\n校园热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=校园&rank=rank_hot\n校园好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=校园&rank=rank_good\n校园完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=校园&rank=rank_finish\n校园窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=校园&rank=rank_increase\n校园新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=校园&rank=rank_new\n校园勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=校园&rank=rank_update\n耽美热搜榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=耽美&rank=rank_hot\n耽美好评榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=耽美&rank=rank_good\n耽美完结榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=耽美&rank=rank_finish\n耽美窜升榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=耽美&rank=rank_increase\n耽美新书榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=耽美&rank=rank_new\n耽美勤更榜::https://quark.sm.cn/api/rest?method=Novelnew.home&gender=female&cate=耽美&rank=rank_update",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36\"}",
    "lastUpdateTime": 1612169989080,
    "loginUrl": "https://gitee.com/no-mystery/book-source",
    "ruleBookInfo": {
      "author": "@get:{x}",
      "canReName": "true",
      "coverUrl": "[property$=image]@content||img@data-src||img[alt]@src||img@src\n##([^\\n]+)##$1###\n@js:/^data:image\\/[^;]+;base64,/.test(result)?java.base64Encode(result):result",
      "init": "",
      "intro": "@get:{g}##^##　　",
      "kind": "@js:java.get(\"v\")",
      "lastChapter": "@get:{z}",
      "name": "@js:if(java.get(\"bb\")==\"\"){\nr=java.getStringList(\"@css:#results>div:has(a.c-header-inner:not([href~=^([^/]+//(t\\\\.shuqi|shenma|quark|xiaoshuo\\\\.sm)\\\\.|javascript:|[^.]+[^/]*?\\\\.(qq|zhihu|qidian|zongheng)\\\\.com)|&fr=shenma_]):matches(番外|阅读|未删[减节]|完整版|最新(章节|更新|\\\\.)|[^0-9a-zA-Z]([aA][Zz][Ww]|[mM][Oo][bB][Ii]|[Ee][pP][uU][Bb]|[Tt][Xx][Tt])(?![0-9a-zA-Z])|章节|目录|弹窗|广告|防盗|手打全文|[纯全](?:手打|文字)|全[文本集])) a.c-header-inner@href||a.c-header-inner:not([href~=^([^/]+//(t\\\\.shuqi|shenma|quark|xiaoshuo\\\\.sm)\\\\.|javascript:|[^.]+[^/]*?\\\\.(qq|zhihu|qidian|zongheng)\\\\.com)|&fr=shenma_])@href\");\n\nif(r.size()){\nbaseUrl=String(r.get(0));zh=true;\n\nif(/^\\{[^{}]*转(?=[^{}]*\\})/.test(book.customIntro)&&/\\/\\/(m|wap)\\./.test(baseUrl)){z=0;\ntry{z=(zz=java.get(ua=baseUrl.replace(/\\/\\/[^.]+/,\"//www\"),{})).statusCode()}catch(e){}\nif(z<200||z>299){\ntry{z=(zz=java.get(ua=baseUrl.replace(/\\/\\/[^.]+\\./,\"//\"),{})).statusCode()}catch(e){}}\nif(z>199&&z<300)zh=false,baseUrl=ua,result=zz.body()}\nif(zh)result=java.ajax(baseUrl)}}\n\nr=org.jsoup.Jsoup.parse(result);\nr.select(\"script,noscript,style,head>:not(meta),footer,[class~=^foot],[id~=^foot],a:has(>:last-child:matchesOwn(^分类$))\").remove();\n\nn=String(book.name);\n\nm=String(r).replace(/(&nbsp;)+/g,\" \");\n\nif(z=java.get(\"key\")!=\"\"){\n\ny=r.select(\"[property~=title$|name$]\");\nif(y.size()){c=y.eachAttr(\"content\")\n}else c=r.select(\"h1,strong\").eachText();\n\nfor(x=0;x<c.size();x++)if(\n(y=\"\"+c.get(x))&&n.indexOf(y)+1\n){n=String(y);break;}\n\nif((x=r.select(\"[property$=author]\")\n).size()){\nx=String(x.attr(\"content\")).replace(/^作\\s*[者家][\\s:：]*|(?!^)[/／｜|，,\\s][^⚙️]*$/,\"\")\n}else{\nx=m.match(/>([^>]+)\\s+著<|[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】>《》]作\\s*者(?![^>]+->)(?:[:：\\s]|<[^i\\/][^>]*>|<\\/[^>]+>)+([^\\s<\">,，/／｜|]+)/);\nx=x?x[1]?x[1]:x[2]:(x=r.select(\"#author,.author\"),x.size()?String(x.first().text()).replace(/(?!^)[|,/\\s][^⚙️]*$/,\"\"):\"\")}\n\nif(n.indexOf(x)>0&&java.get(\"key\").indexOf(n)<0)n=n.split(x)[0];\njava.put(\"x\",x)}\n\nif(z||!book.kind.length()){\ny=r.select(\"meta[property~=(category|status)$]\");\nc=y.size()?String(y.eachAttr(\"content\"))\n.slice(1,-1).replace(/(?!^)\\s*[，,./／｜|]\\s*/,\",\"):(y=m.match(/(?:[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】》]|<[^a/][^>]*>|<\\/[^>]+>)[分类大]\\s*[类型别](?:[:：\\s]|<[^>]+>)+([^\\s<.\"/／｜|>]+)/))&&y[1];\nif(c)java.put(\"v\",c)}\n\ny=r.select(\"meta[property~=latest_chapter_name$]\");\n\nc=y.size()?y.attr(\"content\"):(y=m.match(/>\\s*[更最]\\s*新(?:\\s*章\\s*节)?(?:[:：\\s]|<[^>]+>)+(?!\\s*(-|&gt;)\\s*<|[:：\\s0-9T年月日时分秒*-]{5,}<|[^:：]+[:：]\\s*<|更新(?:时间)?[:：])([^<\"/／｜|>]+)/))&&y[1];\nif(c)java.put(\"z\",c);\n\nif(z||!(c=book.intro).length()){\ny=r.select(\"meta[property$=description]\");\nc=y.size()?y.get(y.size()-1).attr(\"content\"):(r.select(':matchesOwn([\\\\u4e00-\\\\u9fa5]{2,})>:not(br),:not(body,br,:matchesOwn([\\\\s\\\\S]{50}),:has(body,:matchesOwn([\\\\s\\\\S]{50})),:has(>:matchesOwn([\\\\s\\\\S]{50}))>:matchesOwn(\\\\S))').remove(),r.select(\":matchesOwn(\\\\S)\").text())}\n\njava.put(\"g\",String(\"\"+c||book.intro).replace(/[\\snbsp;]*(?:&nbsp;|\\s){2,}|\\s*([？！。]+[”」』\\]\\}\\)）｝】〗〕〉]?)\\s*/g,\"$1　　\").replace(/(?=　　)/g,\"\\n\"));\n\njava.setContent(m,baseUrl);n",
      "tocUrl": "@js:\nzl=java.getStringList(\"[property$=latest_chapter_url]:not([content~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}])@content||:matches(^最新章节)>a:only-child:not([href~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}])@href||a:matches(^[【《]?(\"+book.name+\")?[\\\\s》】（\\\\u0028]*(第[\\\\s0〇零]*[一1]\\\\s*[\\\\u4e00-\\\\u9fa5]|([\\\\u4e00-\\\\u9fa5]{2}阅读)?[0〇零]*[一1][\\\\s.、:：_-]?([【（）\\\\u0028\\\\u0029\\\\u4e00-\\\\u9fa5]|$))):not([href~=^$|#|javascript])@href||a:matches(^(免费试读|(在线|开始|立即|全文|从头)+阅读)$):not([href~=^$|#|javascript])@href\");\nif(zl.size()==1&&(ck=String(zl.get(0)).match(/^(?:.+\\/\\/[^/]+)?([/?].+[&/_-])[^&/_-]+$/)))java.put(\"ck\",ck[1]);\n\nif(java.get(\"直\")==1||/^\\{[^{}]*直(?=[^{}]*\\})/\n.test(book.customIntro)){\nre=(re=String(book.customIntro).match(/^\\{[^{}]*直\\[([^\\[\\]]+)\\]/))?re[1]:baseUrl\n}else{r=org.jsoup.Jsoup.parse(result);\n\nscript=r.select(\":matchesOwn(^$)>a[href^=javascript:]:matches([正顺順]序|全文|章[節节]|目[錄录]):not(:matches(最新))\");re=false;\n\nif(!script.size()){\nba=baseUrl.match(/(https?:\\/\\/[^\\/?]+)[?\\/]?(.+?)?(?:\\/)?$/);b=ba[1];\n\n(y=r.select(\":matchesOwn(^$)>a[href~=(?i)catalog|contents|chapters|mulu|(^|[^a-z])ml|(^|chapter[/_-]?)(more|list|all)]:not([href~=hot|sort|top])\")).size()||(y=r.select(m=\":matchesOwn(^$)>a[href~=^[^#:]+$|^\"+b+\"]:not([href~=(?i)^//|chapter|\"+(ba[2]?ba[2].replace(/([?+$.\"'|*{\\[()\\]}])/g,\"$1\"):\"=\")+\"(/\\d+|\\\\.[^.]+)*$|(book|[^a-z])(info|case)[^a-z]|(^/?|//.+/)[^/]*(cid|hot|sort|top|buy|coins|nutrition|review|ticket|update|author|xiazai|down|app)|/index/|/d/],:matches((?i)^$|[0-9零〇一二三四五六七八九十百千万、，：；？！。…‘’“”（）()]|[票榜:：.]|推荐|排行|等级|说明|收藏|书评|简介|分[类卷]|简介|作者|手机|软件|应用|安装|客户|移动|pc|电脑|安卓|苹果|下载|最新|ap[kp]|ipa|plx|deb|exe|zip|rar|txt|epub))\"));\n\nif(y.size()){\nys=y.select(\"a[href~=(?i)catalog|contents|list|chapter|mulu|(^|[^a-z])ml|more|read|all]:matches([正顺順]序|全文|章[節节]|目[錄录]):not(:matches(阅读)),a[href~=(?i)catalog|contents|chapter|(^|[^a-z])ml|mulu|read]:matches(更多|列表),a[href~=(?i)catalog|contents|list|chapter|mulu|(^|[^a-z])ml|more|all]:matches(^$),a:matches(^([↑\\\\[]?[正顺順]序[\\\\]↑]?|全文(免[費费])?[阅閱][讀读]|[><.-]*(点击|查看|展[开開]|进入|返?回到?)*([全正]文|(更多|完整|全部|所有)?(章[節节]|(作品)?目[錄录])+)+(列表)?(\\\\s*(查看|展开)?更多|[><.-]+)?)$)\");zt=false;\n\nif(!ys.size()){\nba=baseUrl.match(/(?:[^\\/_-][\\/_-]([^\\/._-]+))?[\\/_-]([^\\/._-]+)(?:\\/|\\/index[^\\/]*|\\.[^\\/.]+)?$/);\n\nif(xi=(id=ba[2]).match(/\\?[^=]+=([^&]+)/)||id.match(/^[^\\d%]*(\\d{2,}|[1-9])$/))id=xi[1];\nif(ba[1])if(xi=ba[1].match(/^[^\\d%]*(\\d{2,})$/))id=/^\\d$/.test(id)||!xi[1].indexOf(id)?xi[1]:\"(\"+id+\"|\"+xi[1]+\")\";\n\nys=y.select(\"[href~=(?i)^((.*//[^/]+/)?[^=.]*[^\\\\d=.])?\"+id+\"([?_-][a-z=_-]*0|\\\\.[^.]+|[/?]([^\\\\d]*|[^/\\\\d]*/?|(catalog(ue)?|contents|([_-]?list|[_-]?chapters?)+|mulu|ml|more|all)([=_-][a-z]*)?\\\\d+[^\\\\d]*)?)?(&.+)?$]:not(:contains(\"+(bs=String(book.name)[0])+\"))\");\n\nif(!ys.size()){zt=true;\nys=y.select(\"[href~=(?i)^((.*//[^/]+/)?[^=.]*[^\\\\d=.])?(\\\\d+/\"+id+\"[_-]\\\\d+[^\\\\d]*|\"+id+\"[_-][a-z_-]*1[^\\\\d]*)$]:not(:matches(阅读|\"+bs+\"))\")}}\n\nif(ys.size()){\nif((re=ys.select(\"[href~=(/|^)[^.]+$]\")).size())ys=re;\nre=ys.first().attr(\"href\");\n\nfor(x=1;x<ys.size();x++)if((xs=ys.get(x).attr(\"href\")).length()>re.length())re=xs;\nif(zt||/(^|[^/])\\/[^/]+[/?](catalog(ue)?|contents|([_-]?list|[_-]?chapters?)+|mulu|ml|more|all)([=_-][a-z]*)?([2-9]\\d*|1\\d+)[^\\d]*$/i.test(re))re=String(re).replace(/\\d+(?=[^\\d]*$)/,\"☯1\")}}}\n\nre=String(!re?baseUrl:/^https?:/.test(re)?re:/^\\/\\//.test(re)?b.split(\"//\")[0]+re:/^\\//.test(re)?b+re:baseUrl+re)}\n\njava.put(\"ba\",re.replace(/(?:[☯?&/_-][^\\d]*[01])+[^\\d]*$/,\"\"));\n\nif(java.get(\"跳\")==1||/^\\{[^{}]*跳(?=[^{}]*\\})/.test(book.customIntro))re=re.concat(',{\"webView\":true}');\n\nre==baseUrl?\"\":re.replace(\"☯\",\"\")",
      "wordCount": "{{baseUrl}}##//([^/]+)##$1##"
    },
    "ruleContent": {
      "content": "@js:r=org.jsoup.Jsoup.parse(result);\n\nif(java.get(\"图\")==1||/^\\{[^{}]*图(?=[^{}]*\\})/\n.test(book.customIntro)){\n\nfor(c=2;c;c--){\n\nif(y=(m=r.select(\"img:not([src~=(?i)^$|^javascript:|\\\\.gif|[^a-z](css|icon|load(ing|ed)?)[^a-z]])\")).size()?(y=m.select(\":not([src~=(?i)\\\\.png])\")).size()?y:m.select(\"[src~=(?i)\\\\.png]\"):\"\"){\"🌕\"+y;break;}\n\nr=org.jsoup.Jsoup.parse(java.ajax(baseUrl+',{\"webView\":true}'))}\n\n}else{try{for(c=2;c;c--){\nr.select(java.get(\"字\")==1||/^\\{[^{}]*字(?=[^{}]*\\})/.test(book.customIntro)\n?'a>*,script,noscript,style,header,footer,[class~=^foot|^head],[id~=^foot|^head],:not(:has(p:matchesOwn([\\\\s\\\\S]{200}),p:first-of-type+p):contains(。)) p,:matchesOwn([\\\\s\\\\S]{50})>:not(br,a),:not(br,p,a,:matches([\\\\s\\\\S]{200}),:has(p,br,div:matchesOwn(，|。)+div:matchesOwn(，|。)),:has(p,br,div:matchesOwn(，|。)+div:matchesOwn(，|。)) :matchesOwn(\\\\S))'\n:'a:not(:matches(^$)>img:only-child)>*,script,noscript,style,header,footer,[class~=^foot|^head],[id~=^foot|^head],img[src~=(?i)^$|^javascript:|[^a-z](css|icon|load(ing|ed)?)[^a-z]|/\\\\d+s\\\\.jpg],:not(:has(p:matchesOwn([\\\\s\\\\S]{200}),p:first-of-type+p):contains(。)) p,:matchesOwn([\\\\s\\\\S]{50})>:not(img,br,a,:has(img)),:not(img,br,p,a,:matches([\\\\s\\\\S]{200}),:has(p,br,img,div:matchesOwn(，|。)+div:matchesOwn(，|。)),:has(p,br,img,div:matchesOwn(，|。)+div:matchesOwn(，|。)) :matchesOwn(\\\\S))').remove();\n\nd=[\"div:matchesOwn(\\\\S):has(br)\"\n,\"p:matchesOwn(\\\\S):not(:has(br))\"\n,\"p:matchesOwn(\\\\S):has(br)\"\n,\"div:matchesOwn(\\\\S):not(:has(br))\"\n,\"body:not(:has(:matches([\\\\s\\\\S]{50}))) img,:matches([\\\\s\\\\S]{50}):has(>:matchesOwn(\\\\S)),body:not(:has(img)) :matchesOwn(\\\\S)\"];\n\nfor(i=0;i<5&&(y=r.select(d[i])).text().length()<300;i++);if(i<5||c-2)break;\nr=org.jsoup.Jsoup.parse(java.ajax(baseUrl+',{\"webView\":true}'))}\n\nif((i==0||i==2)&&y.size()==2)y=y.first().text().length()>y.get(1).text().length()?y.first():y.get(1);\n\nr=String(y).replace(/<([a-z]+)[^>]*\"-\\d+\"[^>]*>[^<]+<\\/\\1>|[^<>]*<a[^<]+<\\/a>[^<]*|&lt[; ]?([a-z]+)(?:[^<>&\"]|\"[^\"]+\")*&gt[; ]?(?:[^<>&]|&nbsp;)*&lt[; ]?\\/\\2&gt[; ]?|&lt[; ]?[a-z]+(?:[^<>&\"]|\"[^\"]+\")*&gt[; ]?|[☯📑⚙️🌗🌕🌓︴]/g,\"\").replace(/((?:[〖【『「（《〈〔［\\[(][^〖【『「（《〈〔［\\[()］〕〉》）」』】〗\\]]*[)］〕〉》）」』】〗\\]]\\s*)*(?:(?:第?(?:&nbsp;|\\s)*[一二三四五六七八九十百千万〇零0-9]+(?:&nbsp;|\\s)*[章节回話话：:.．,，、]*(?:&nbsp;|\\s)*)+{{(n=(t=title.replace(/[*$|?+\\\\\\^\\[\\](){}\\s/]/g,\"[\\\\S\\\\s]?\")).match(/\\S+$/)[0].replace(/^(正文[^\\u4e00-\\u9fa5A-Za-z]*|第?[一二三四五六七八九十百千万〇零0-9]+[章节回話话\\s：:.．,，、]*)+/,\"\"),/\\S/.test(n)?n+\"|\":\"\")+t+\"|\"+book.name}})(?:\\s*[〖【『「（《〈〔［\\[(][^〖【『「（《〈〔［\\[()］〕〉》）」』】〗\\]]*[)］〕〉》）」』】〗\\]])*)/g,\"🌗$1🌓\").replace(/[\\snbsp;]*(&nbsp;|\\s){2,}/g,\"　　\");\n\n(/^　　/.test(r)?r.replace(/>(?!　　|\\s*n?b?s?p?;)\\s*(?=[^\\s<>])/g,\">︴\"):r)+\"📑\"}catch(e){\"🌕\"}}",
      "imageStyle": "FULL",
      "nextContentUrl": "a:matches(第二[頁页]|下[一\\s]*[頁页篇章回节節话話]):not([href~=^javascript:|^#])@href\n@js:result.size()&&(/^[^/]+$/.test(result)||String(result).indexOf(String(chapter.url).replace(/(?:[_-][01])?\\.[a-z]+$|https?:\\/\\/[^/]+\\/|[^&=]+=[01]&/gi,\"\"))+1)?result:null",
      "replaceRegex": "@js:/🌕/.test(result)?result.replace(/🌕/g,\"\"):result\n.replace(/—/g,\"─\")\n.replace(/[·۰•・]/g,\"・\")\n.replace(/\\s*(?:︴[^\\n　]+\\s+)*📑\\s*|^\\s*(︴[^\\n　]+\\s+)*|\\s*(?:　　|\\n)(?:[\\s&#a-zA-Z0-9]*;)?[\\s　?]*/g,\"☯\")\n.replace(/(?:︴[^☯]*☯)+(?=︴)|☯(?:温馨|[^a-zA-Z0-9\\u4e00-\\u9fa5☯]+)提示.?[:：][^☯]+|☯[^☯]+字体不会安装.?请百度[^☯]+|☯.{0,2}正版订阅在阅文旗下的起点和QQ书城，可以第一时间看到最新章节.{0,2}(?=☯)|︴\\s*第?[〖【『「（《〈〔［｛\\[{(][^☯]+(?=☯)|☯第\\s*[（(][^（()）]+[)）][頁页](?=☯)|[^☯]*(?:关注|[微vVＶｖ][^\\u4e00-\\u9fa5A-Za-z0-9]*[信xXｘＸ]|公[^\\u4e00-\\u9fa5]*众[^\\u4e00-\\u9fa5]*号){2,}[^☯]*|(?:&#?[a-z0-9]*;?)+(?=;|☯);*|reads；/g,\"\")\n.replace(/\\s+/g,\" \")\n.replace(/☯[ ☯]*/g,\"\\n\")\n.replace(/(\\n[〖【『「（《〈〔［｛\\[{(]?)([pPＰｐ][SsｓＳ]+(?=[ ：:;；，,、。.─\\d\\u4e00-\\u9fa5])[^\\n]+)/g,\"$1🌕$2\")\n.replace(/(<img )[^>]*(src=\"[^\"]+\")[^>]*(>)|((?: ?[＋+－-]?[0-9０-９]+(?:[．.／/][0-9０-９]+)?[％%]?[a-zA-Z]*)+ ?|[ _＿－-]?[a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９]+)/g,\"$1$2$3☯$4☯\")\n.replace(/☯[・。](?=☯)/g,\"☯.\")\n.replace(/☯☯|(?:\\n[^āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌕🌓︴\\n]+|([。？！…”』」】〗])[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌓☯︴\\n]+[\\u4e00-\\u9fa5]+)?[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗、，：；？！。…─🌗🌓☯︴\\n]+(?=\\n)|[^☯!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛｝］〕〉）＞’”》」』】〗]*☯([a-zA-ZＡ-Ｚａ-ｚ]*[āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ][a-zA-ZＡ-Ｚａ-ｚ]*)☯[^☯!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛｝］〕〉）＞’”》」』】〗]*/g,\"$1$2\")\n.replace(/[^!\"'(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗︴🌕]*(?:☯[^.．!(),\\n\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗]+|([^☯!(),\\na-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗])(?!\\1)|☯(?=[^☯!(),\\na-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗][!(),\\s\\u4e00-\\u9fa5、，：；？！。…─〖【『「《“‘＜（〈〔［｛({\\[\\]})｝］〕〉）＞’”》」』】〗])|[〖【『「（《〈〔［｛\\[{(][^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[)｝］〕〉》）」』】〗\\]}]){4,}|[〖【『「（《〈〔［｛\\[{(][^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[)｝］〕〉》）」』】〗\\]}]/g,\"📑\")\n.replace(/(?:([\\n。？！])[^\\n。？！]{1,10})?[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*(?:☯[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]☯|📑|🌕)[^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[｝］〕〉》）」』】〗\\]})](?:[^。]{0,5}(?:[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*(?:☯[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]☯|📑)[^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]*[｝］〕〉》）」』】〗\\]})]|[^📑!,()\\s\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+))*(?:(?:[^\\n]{1,10}|(?:[\\u4e00-\\u9fa5]{0,5}[，、])*[\\u4e00-\\u9fa5]+[！。]?)(?=\\n))?/g,\"$1\")\n.replace(/([^🌗🌕🌓📑︴*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]*(?:(?:[^🌗🌕🌓📑︴*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+[*(), \\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]{1,3})*[^*︴📑☯🌗🌕🌓\\s&;(),āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜa-zA-ZＡ-Ｚａ-ｚ0-9０-９\\u4e00-\\u9fa5、，：；？！。…─‘’“”【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}%%・/／＝=_＿.．＋+－-]+|☯[^☯\\n]+☯.☯[^☯\\n]+☯|本[文书](?:首发|来自)|(?:章节不完整.?|完整章节)?请.{2,6}(?:搜索|百度|引擎|关键[词字])+|(?:[阅閱][讀读]|访问|訪問|[網网地][站址]|链接|鏈接|[\\u4e00-\\u9fa50-9a-zA-Z]{0,4}(?:文学|中文|[網网]))+[:：]|[\\u4e00-\\u9fa50-9a-zA-Z]{0,6}(?:[網网地][站址]|链接|鏈接)为|.{2,4}文[学學][網网]|[请請].{2,4}收藏(?:.{0,2}推[荐薦])?|一秒[記记]住|，?請?訪問|(?:[更最][快新]|[快高]速|热门|(?:[阅閱][讀读])?完整|本|(?:官[網网]|本站).{0,2})(?:章[節节]|小说|更新|[網网][址站]|快速)|更新(?:速度)?[最更]?快|(?:(?:无错)?小说|正版|免费|全[文本]|在线|访问|訪問|txt|TXT|继续|各种|推[荐薦]|收藏|分享|交流|你?喜欢的)+(?:全文|免费|在线|[阅閱]?[讀读]|下载|章[節节]|小说|好书)|章[節节](?:目录|列表)|小说[網网](?:更新)?|手打全文|[纯全](?:手打|文字)|手机看书|手机版|笔趣阁|(?:本站|[網网]站|站内|看)?无(?:任何)?(?:广告|弹窗|防盗)(?:章节)?|不弹窗|(?:(?:請|请|或者?)?(?:訪問|访问|[電电手][腦脑机機]|[網网][址站]|用[户戶]|浏览|瀏覽|閱讀|阅读|看小说|看漫画)){2,}|看小说|看漫画|最佳选择|阅读体验|(?:推[荐薦]|收藏|分享)(?:本站|我们)|小说..版|文章质量更好|谢谢各位(?:读者|书友)支持|水印广告测试|本章未完|请翻页|点击下一页|领.{0,2}红包|关注[〖【『「（《〈〔［｛\\[{(][^〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]+[)｝］〕〉》）」』】〗\\]}])(?:[* (),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]{0,3}[^🌗🌓📑*\\n(),\\u4e00-\\u9fa5、，：；？！。…─‘’“”（）《》〖〗【】]+)*|🌗[^\\n]+🌓)/g,\"\\n⚙️$1⚙️\\n\")\n.replace(/(🌕)\\s*⚙️|⚙️(<img[^>]+>)⚙️|(⚙️\\n)|([「『【〖《，、；\\n])[\\n。、…：；？！」』】〗》’!]+(?!⚙️)|([：？！。…─])(?:[^⚙️☯a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n…─’”)｝］〕〉》）」』】〗\\]}]+(?=\\n)|[^⚙️☯a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n…─“‘’”〖【『「（《〈〔［｛\\[{()｝］〕〉》）」』】〗\\]}]+)|🌗|🌓|☯/g,\"$1$2$3$4$5\")\n.replace(/([)）？！?!…」』”\\s。>])[^\\n（(🌕)）”』」’。]{0,5}(?:(?:\\n⚙️.+⚙️\\n|[^（()）\\n”』」。]{0,5}📑)[^（()）\\n。]{0,5}(?:\\n⚙️.+⚙️(?:\\n(?=\\n⚙️|[^（()）\\n]{1,5}\\n))?|[^（()）\\n。]{0,5}📑)+(?:[^（()）\\n]{1,5}(?=\\n))?|(?:(?:(?:\\n⚙️.+⚙️\\n|[^（()）\\n。]{0,5}📑)[^（()）\\n]{0,5}){2,}|[^（(🌕)）”』」’\\n。]{0,5}(?:(?:免费|热门|官网|正版|在线|同步|下载|文学|中文|章节|[本网][站址]|站内|小说|更新|无错|[本全][文本章]|首发|广告|弹窗|防盗|访问|訪問|txt|TXT|读者|书友|百度)[^（()）\\n]{0,5})*(?:📑|\\n⚙️[^\\n]+⚙️\\n)[^（()）\\n]{0,5}(?:(?:免费|热门|官网|正版|在线|下载|同步|文学|中文|章节|[本网][站址]|站内|小说|更新|无错|[本全][文本章]|首发|广告|弹窗|防盗|访问|訪問|txt|TXT|读者|书友|百度)[^（()）\\n]{0,5})*|[^（(🌕)）\\n”』」’。]{0,3}\\n⚙️.+⚙️\\n[^（()）\\n。]{0,3})(?:[\\u4e00-\\u9fa5]+[！。]?|[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n]+)?(?=\\n))|\\n⚙️[^\\u4e00-\\u9fa5]+⚙️\\n|📑|\\s*︴\\s*|\\n?⚙️\\n?|\\n[^a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n]{2,}\\n[^🌕a-zA-ZＡ-Ｚａ-ｚāáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜ0-9０-９\\u4e00-\\u9fa5\\n“《‘【〖『「]*/g,\"$1\")\n.replace(/(?:(?:\\n🌕[^\\n]*)+(?:\\n+[^\\n]+){0,4}|\\n(?:[(（{｛][^(（<{｛｝}>）)]*(?:(?:[(（{｛][^(（<{｛｝}>）)]*[）)｝}])[^(（<{｛｝}>）)]*)*[）)｝}]?\\s*)+|[^\\n]*起点(?:原创|中文)[^\\n]*|[〖【『「（《〈〔［｛\\[{(]?未完待续[^\\n]*)[^\\u4e00-\\u9fa5<>]*$|^\\s*(?:(?:[^\\n]+\\n+){0,4}(?:🌕[^\\n]*\\n?)+|(?:[(（{｛][^(（<{｛｝}>）)]*(?:(?:[(（{｛][^(（<{｛｝}>）)]*[）)｝}])[^(（<{｛｝}>）)]*)*[）)｝}]?\\s*)+|，[^\\n]+)\\n|(?:^|\\n)[^a-z0-9A-Z\\u4e00-\\u9fa5]*(?=\\n)|🌕/g,\"\")",
      "sourceRegex": "",
      "webJs": ""
    },
    "ruleExplore": {
      "author": "$.author",
      "bookList": "$..novel_item[*]",
      "bookUrl": "$.url",
      "coverUrl": "$.icon",
      "intro": "$.description",
      "kind": "$.status&&$.tag@js:String(result).slice(1,-1).split(/\\s/)",
      "lastChapter": "",
      "name": "$.title##[(（][^(（）)]*[）)]$\n@js:java.put(\"s\",result)",
      "wordCount": ""
    },
    "ruleSearch": {
      "author": "@get:{au}",
      "bookList": "@js:java.get(\"key\")!=\"\"?java.getElements(\"@css:#results>div:has(a.c-header-inner:not([href~=^([^/]+//(t\\\\.shuqi\\\\.com|quark\\\\.|xiaoshuo\\.sm\\.cn)|javascript:)|&fr=shenma_]))\"):java.getElements(\"a[data-index][href^=https://quark.sm.cn/s?q=]\")",
      "bookUrl": "@get:{link}",
      "coverUrl": "@get:{d}@get:{l}\n@js:decodeURIComponent(result)",
      "intro": "@js:java.put(\"i\",\"\"+java.get(\"zt\")?\"\":String(java.get(\"ii\")).replace(/^.{1,12}\\n/,\"\"))",
      "kind": "@js:r=java.get(\"lx\");\nr=r.length?r:java.get(\"key\").length?java.getString('a.c-e-subtitle-l span:not([class=\"c-e-subtitle-item l\"])@text||:matchesOwn((类[型别]|[大分]类)[:： 　])@text',false):java.getString(\".c-e-subtitle-item@text\",false);\nr.length?r:(fl=String(java.get(\"fl\")).match(/[［\\[]([^\\s\\d［\\[\\]］]+)/),fl?fl[0]:\"\")\n##[^：:]+[：:]|.*(类[型别]|[大分]类|\\[)\\s*|([\\]”，。、；？！─…,_/／｜| 　-]|\\.(?!\\d)).*",
      "lastChapter": "a.c-header-inner@data-recoorgi||a.c-header-inner@href||*@href@put:{zt:\"@css:div>span.c-e-subtitle-item@text\",ii:\".js-c-paragraph-text@all\",d:\"*@data-i\",l:\"*@data-load\"}\n@js:\nif(java.get(\"key\")==\"\"){\njava.setContent(java.ajax(result),\"\");\n\nre=java.getStringList(\"@css:#results>div:has(a.c-header-inner:not([href~=^([^/]+//(t\\\\.shuqi|shenma|quark|xiaoshuo\\\\.sm)\\\\.|javascript:|[^.]+[^/]*\\\\.(qq|zhihu|qidian|zongheng)\\\\.com)|&fr=shenma_]):matches(番外|阅读|未删[减节]|完整版|最新(章节|更新|\\\\.)|[^0-9a-zA-Z]([aA][Zz][Ww]|[mM][Oo][bB][Ii]|[Ee][pP][uU][Bb]|[Tt][Xx][Tt])(?![0-9a-zA-Z])|章节|目录|弹窗|广告|防盗|手打全文|[纯全](?:手打|文字)|全[文本集])) a.c-header-inner@href||a.c-header-inner:not([href~=^([^/]+//(t\\\\.shuqi|shenma|quark|xiaoshuo\\\\.sm)\\\\.|javascript:|[^.]+[^/]*\\\\.(qq|zhihu|qidian|zongheng)\\\\.com)|&fr=shenma_])@href\");\n\nif(re.size()){\nresult=re.get(0);\nfor(x=1;x<re.size();x++)if(/https?:\\/\\/www\\./.test(re.get(x))){\nresult=re.get(x);break;}\n}else result=baseUrl;\n}else result=result.match(/[^\\n]+/)[0];\n\nif((java.get(\"转\")==1||/^\\{[^{}]*转(?=[^{}]*\\})/\n.test(book.customIntro))&&/\\/\\/(m|wap)\\./.test(result)){z=0;\ntry{z=java.get(ua=(result=String(result)).replace(/\\/\\/[^.]+/,\"//www\"),{}).statusCode()}catch(e){}\nif(z<200||z>299){\ntry{z=java.get(ua=result.replace(/\\/\\/[^.]+\\./,\"//\"),{}).statusCode()}catch(e){}}\nif(z>199&&z<300)result=ua}\n\njava.put(\"link\",result)",
      "name": "@js:re=String(result).replace(/\\s*(?:&nbsp;)+\\s*/g,\" \").replace(/\\s*<\\/?em>\\s*/g,\"\");\n\njava.put(\"fl\",res=String(java.getStringList('span[c-bind]:matches(\\\\S)@text').get(0)));\nkey=java.get(\"key\");\nax=java.get(\"aut\");\nlx=java.getString(\"@css:div>span.c-e-subtitle-item@text\",false);\nr=res.match(/[^《》]+(?=》)/);\nr=r?r[0]:res.replace(/[(（][^(（）)]*[）)]$/,\"\");\n\nif(key!=\"\"){\nau=java.getStringList(\"span.js-c-property-text a@text\");\n\nif(au.size()){\nax=au.get(0);\nfl=java.getString(\"span.js-c-property-text:not(:has(a))@text\",false);\nzb=\"\"+java.getString(\".c-header-title span:not([c-bind])@text\",false);\nlx=zb?zb+\"\\n\"+fl:fl;\n}else{\nr=r.replace(/^[「『【〖（(\\[]/,\"\").replace(/(?!^)[^\\u4e00-\\u9fa5a-zA-Z0-9]*(?:笔趣阁|思路客|燃文|小说|漫画|手机)?(?:[.|,_/\\s「『【〖（(\\[\\])）〗】』」。-]|(?:人工|机器|电脑)?校正|精校|完[整结]|加料|番外|未删节|简介|全[文本集]|下载|(?:小说|漫画|大全|正版(?:小说|漫画)?|免费|免费小说|免费漫画|免费全[文本]|在线|最[新快]|全部|手机|电脑)(?:全[文本集部]|大全|免费|在线|阅读|下载|章节|小说|更新|漫画|\\.)|([^a-zA-Z0-9])(?:azw|mobi|epub|txt)(?![a-zA-Z0-9])|(?:最全)?(?:章节|目录|列表){2,}|更新章节最快|无广告|(?::顶点)?无弹窗|无防盗|小说网|手打全文|[纯全](?:手打|文字))[\\S\\s]*/i,\"$1\");\n\nif(ax==\"#\"||re.indexOf(ax)<0){\nax=re.match(/《([^《》]+)》作品集|[\\s\\[\\];?!,.()、，；？！。…─（）［］〖〗【】《》>]作\\s*者(?:[:：\\s“\"'(（]|<[^i\\/][^>]*>|<\\/[^>]+>)+(?![^\\s<(《“（）”》)>\\/\\[\\];?!,、，；？！。…─［］〖〗【】]*\\.{3}<)([^\\s<(《“（\"'）”》)>\\[\\];?!,、，；？！。…─［］〖〗【】/／｜|:：]+?)(?=(?:其[他它]|小说|[更最][快新]|\\.\\s*)?..[:：]|所?写?的《|[\\s<(《“（\"'）”》)>\\[\\];?!,、，；？！。─［］〖〗【】/／｜|])/);\nif(!ax){\nax=re.match(new RegExp(r+\"[^a-z0-9A-Z\\\\u4e00-\\\\u9fa5]*([^\\\\s]+?)\\\\s+著|(?:由|原创)(?:(?:原创|网络)?作[家者])?(?![\\\\u4e00-\\\\u9fa5a-zA-Z0-9_-]*(?:[书网]友|网)所?提供)([\\\\u4e00-\\\\u9fa5a-zA-Z0-9_-]+?)(?:所作|所?(?:(?:精心)?[创著]作|提供|写?的(?:《|\"+r+\")))\"));\nif(!ax)ax=res.match(/[^.|,_/\\s\\[\\]（()）【〖〗】。-]+[（(](?![^\\s]+[\\s、：；？！…─“‘《〖【，。:;?!\"'】〗》’”][^(（）)]+|(?:连载中?|完本|大结局|上|中|下|[\\s.一二三四五六七八九十百千万〇零0-9]+)[）)])([^（()）]+?)(?:(?:\\s+|所)?著|的?新书|[/／｜|][^)）]+)?[)）]/)}\nax=ax?ax[1]||ax[2]:\"\"}\n\nif(!ax.length&&re.indexOf(key)+1&&r.indexOf(key)<0)ax=key;\n\nif(r.indexOf(ax)>0&&key.indexOf(r)<0)r=r.split(ax)[0];\n\nzt=[/小说/.test(key),/有声/.test(key),/(?!^)小说(?!$)/.test(key),/(?!^)有声(?!$)/.test(key)];\nif(!zt[0]&&!zt[1]||zt[2]&&zt[3]){\nrez=\"(?!^)(有声|小说|有声小说)$|^(有声|小说|有声小说)(?!$)\"\n}else if(!zt[1]||!zt[2]&&zt[3]){\nrez=\"(?!^)有声$|^有声(?!$)\"\n}else if(!zt[0]||zt[2]&&!zt[3]){\nrez=\"(?!^)小说$|^小说(?!$)\"\n}else rez=\"☯\";\nif(!/漫画/.test(key)||/(?!^)漫画(?!$)/.test(key))rez+=\"|(?!^)漫画$|^漫画(?!$)\";\n\nix=r.replace(new RegExp(rez),\"\").split(/[：:]/);i=0;\nwhile(i<ix.length){x=ix[i];\nif(x.indexOf(key)>=0||key.indexOf(x)>=0)break;i++}\nif(i==ix.length)i=0;\nr=ix.slice(i,i+2).join(\":\")}}\n\njava.put(\"lx\",lx);\njava.put(\"au\",ax);\njava.put(\"bb\",r)",
      "wordCount": "@css::has(>span:matches(\\S)+span:matches(^新$))>span:first-child@text||span:matches(^新$)+ul li:first-child@text\n##^.*[更最]\\s*新?(章节|[(（][^(（）)]+[）)])*[:：\\s]*|\\s(?:新|\\d+)$|;$"
    },
    "ruleToc": {
      "chapterList": "@css::matchesOwn(^$|[0-9〇一二三四五六七八九十])>a[href~=^[^#:]+$|^h]:matches(\\S):not(:has(img,*>*>*),[href~=(?i)SystemInfo|\\.aspx$|\\.php$|book(info|case)|(^/?|//.+/)[^/]*(hot|sort|top|buy|coins|nutrition|review|ticket|update|author|xiazai|down|app)(?!=)|\\d+_\\d+_\\d+],:matches((?i)最新章节$|^(((点击|软件|应用|安装|客户|移动|手机|电脑|安卓|苹果|下载|阅读|pc|ap[kp]|ipa|plx|deb|exe|zip|rar|txt|epub)[\\s.端版]*){2,}|[A-Za-z0-9\\u4e00-\\u9fa5]?返回.*(简介|书页|目录)[A-Za-z0-9\\u4e00-\\u9fa5]?|[<>-]+|正文|[上下首尾]([一\\s]*[页頁]|[\\s\\d零〇一二三四五六七八九十百]*章)|[↑\\[]?[倒正反逆顺順]序[↓\\]]?|免费试读|(在线|开始|立即|全文|从头)+阅读|[^\\s\\d外内楔前后卷篇章]*(作者|双倍月票|感言|推书|推[a-z0-9A-Z_\\u4e00-\\u9fa5\\-]+书|[求个请投点](月?票|收藏|订阅|推荐)|感谢(读者|书友|大家|各位)[书点]评[^\\s]*活动|没[有空]?更新|没时间更新|请个?假|关于本书|关于更新|打赏名单|起点活动)[^\\s]*)$))\n@js:b=java.get(\"ba\");\n\nif(zt=!(java.get(\"全\")==1||/^\\{[^{}]*全(?=[^{}]*\\})/.test(book.customIntro))){\nll=null;\n$=it=>(qc=ll,ll=result.select(it)).size()>20&&(result=re=ll);\n\nif(!(((ck=java.get(\"ck\"))!=\"\"&&$(\"[href~=\"+ck+\"[^i.]|/vip[_-]?(read|chapter)|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}]:not([href='\"+book.tocUrl+\"'])\"))||$(\"[href~=^[a-z0-9]+(/|\\\\.[^./]+)?$]\"))){\nif(qc&&qc.size()>ll.size())ll=qc;\n\n$=it=>(re=result.select(it)).size()&&(result=re);\n\nif(!($(\"[data-cid]\")||$(\"[href~=(^|[/_-])(chapter|read)+([_-]?id)?/[^/_-]+[/_-][^/_-]+]\")||$(\"[href~=(^|[&?/_-](book|novel|comic)?)(chapter|read)+([_-]?id)?[?/=]]\")||$(\"[href~=[&?/_-]cid[&?/_=-]]\")||$(\"[data-href]\"))){\n\nba=b.match(/(?:[^/_-][/_-]([^/._-]+))?[/_-]([^/._-]+)(?:\\/|\\/index[^/]*|\\.[^/.]+)?$/);\n\nif(xi=(id=ba[2]).match(/\\?[^=]+=([^&]+)/)||id.match(/^[^\\d%]*(\\d{2,}|[1-9])$/)||ba[1]&&ba[1].match(/^[^\\d%]*(\\d{2,})$/))id=xi[1];\n\n$(\"[href~=([^\\\\d]|^)\"+id+\"[/_&-][^\\\\d]*\\\\d+]:not([href~=\"+id+\"[^\\\\d]*$]),[href~=/vip|([A-Z]+[a-z0-9]+|[a-z]+[0-9]+){2,}|([^\\\\d]|^)\"+id+\"[/_&-][^\\\\d]*\"+id+\"(/|\\\\.[^.]+|&.+)?$]\")||$(\"[title]\")||$(\"[href~=/view/\\\\d+\\\\.[a-zA-Z]+$]\")}\nif(re.size()<ll.size())result=ll}}\n\nif(java.get(\"逆\")==1||/^\\{[^{}]*逆(?=[^{}]*\\})/.test(book.customIntro))for(i=0,s=result.size()-1;i<s/2;i++){li=result.get(i);\nresult.set(i,result.get(s-i));\nresult.set(s-i,li)}\n\nzt&&re.size()?result:[\"<a href='\"+b+\"'>预览内容</a>\"].concat(result.toArray())",
      "chapterName": "text@js:result.replace(/(第)\\s+|(\\d)第(?=\\d)|\\s+([章节回話话卷])/,\"$1$2$3\")",
      "chapterUrl": "href##[/\\s]+$",
      "isVip": "",
      "nextTocUrl": "a:matches(下[一\\s]*[页頁]|下[一二三四五六七八九十百千万〇零0-9]{2,}章):not([href~=^#|javascript:])@href",
      "updateTime": ""
    },
    "searchUrl": "https://quark.sm.cn/s?page={{page}}&q={{\nkey=key.trim();aut=\"#\";\nif(key[0]==\"@\"){\nkey=key.slice(1);\njava.put(\"转\",1)}\nif(key[0]==\"!\"){\nkey=key.slice(1);\njava.put(\"直\",1);\njava.put(\"全\",1)}\nif(key[0]==\"^\"){\nkey=key.slice(1);\njava.put(\"跳\",1)}\nif(key[0]==\"-\"){\nkey=key.slice(1);\njava.put(\"逆\",1)}\nif(key[0]==\"|\"){\nkey=key.slice(1);\njava.put(\"字\",1)}else if(key[0]==\"_\"){\nkey=key.slice(1);\njava.put(\"图\",1)}\nz=key.lastIndexOf(\"#\")+1;\ns=key.lastIndexOf(\"$\")+1;\nif(/\\$[a-zA-Z0-9/._-]+$/.test(key)){\nkey=key.slice(0,s-1).concat(\" site:\",key.slice(s))\n}else s=0;\nss=s?s-1:key.length;\nas=key.slice(z?z:ss,ss);\nif(!/^\\s*$/.test(as)){\naut=as.match(/[^\\s\"]+/)[0];\nkey=key.slice(0,z-1).concat(\" \",key.slice(z))}else z=0;\nif(keys=key.slice(0,(z>s?s?s:z:s>z?z?z:s:ss+1)-1)){\nkeys=keys.match(/[^\\s]+/)[0]\n}else if(!s)key=aut+\"作品\";\njava.put(\"key\",keys);\njava.put(\"aut\",aut);\nkey}}",
    "weight": 0
  }
]